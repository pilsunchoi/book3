
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>1.2 다문화청소년패널 데이터 &#8212; 데이터 기반 사회과학 분석</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/012_다문화청소년패널_데이터';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.3 패널 회귀분석" href="013_%ED%8C%A8%EB%84%90_%ED%9A%8C%EA%B7%80%EB%B6%84%EC%84%9D.html" />
    <link rel="prev" title="1.1 다문화청소년 학업성취도 요인 탐색" href="011_%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84_%ED%95%99%EC%97%85%EC%84%B1%EC%B7%A8%EB%8F%84_%EC%9A%94%EC%9D%B8_%ED%83%90%EC%83%89.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="000_%EC%84%9C%EB%AC%B8.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="데이터 기반 사회과학 분석 - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="데이터 기반 사회과학 분석 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="000_%EC%84%9C%EB%AC%B8.html">
                    시작하며
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="010_%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84_%ED%95%99%EC%97%85%EC%84%B1%EC%B7%A8%EB%8F%84_%EB%B6%84%EC%84%9D.html">1 다문화청소년 학업성취도 분석</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="011_%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84_%ED%95%99%EC%97%85%EC%84%B1%EC%B7%A8%EB%8F%84_%EC%9A%94%EC%9D%B8_%ED%83%90%EC%83%89.html">1.1 다문화청소년 학업성취도 요인 탐색</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">1.2 다문화청소년패널 데이터</a></li>
<li class="toctree-l2"><a class="reference internal" href="013_%ED%8C%A8%EB%84%90_%ED%9A%8C%EA%B7%80%EB%B6%84%EC%84%9D.html">1.3 패널 회귀분석</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="020_%EB%8B%A4%EB%AC%B8%ED%99%94_%EB%B0%B0%EA%B2%BD%EA%B3%BC_%ED%95%99%EC%97%85%EC%84%B1%EC%A0%81.html">2 다문화 배경과 학업성적</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="021_%EB%8B%A4%EB%AC%B8%ED%99%94_%EB%B0%B0%EA%B2%BD%EC%9D%B4_%ED%95%99%EC%97%85%EC%84%B1%EC%A0%81%EC%97%90_%EB%AF%B8%EC%B9%98%EB%8A%94_%EC%98%81%ED%96%A5.html">2.1 다문화 배경이 학업성적에 미치는 영향</a></li>
<li class="toctree-l2"><a class="reference internal" href="022_%EC%95%84%EC%B2%AD%ED%8C%A8%EB%84%90%EB%B6%84%EC%84%9D%282010_e4%29.html">2.2 아청패널분석(2010 초4 패널)</a></li>
<li class="toctree-l2"><a class="reference internal" href="023_%EC%95%84%EC%B2%AD%ED%8C%A8%EB%84%90%EB%B6%84%EC%84%9D%282010_%EC%A2%85%ED%95%A9%29.html">2.3 아청패널분석(2010 종합)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="030_%ED%95%9C%EA%B5%AD_%EC%B2%AD%EB%85%84%EC%84%B8%EB%8C%80_%EC%9E%90%EC%82%B0%EB%B6%88%ED%8F%89%EB%93%B1_%EC%B6%94%EC%A0%95.html">3 한국 청년세대 자산불평등 추정</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="031_%EA%B0%80%EA%B3%84%EA%B8%88%EC%9C%B5%EC%A1%B0%EC%82%AC_%EC%A7%80%EB%8B%88%EA%B3%84%EC%88%98_%EA%B3%84%EC%82%B0.html">3.1 가계금융조사 지니계수 계산</a></li>
<li class="toctree-l2"><a class="reference internal" href="032_%EC%B2%AD%EB%85%84%EC%84%B8%EB%8C%80_%EC%A7%80%EB%8B%88%EA%B3%84%EC%88%98_%EC%B6%94%EC%9D%B4.html">3.2 청년세대 지니계수 추이</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="040_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95.html">4 순자산 분포 추정</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="041_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95_Johnson_SU_%EB%B6%84%ED%8F%AC_%ED%99%9C%EC%9A%A9.html">4.1 순자산 분포 추정: Johnson SU 분포 활용</a></li>
<li class="toctree-l2"><a class="reference internal" href="042_SU_Asset_Distribution.html">4.2 SU Asset Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="043_MLE%EC%97%90%EC%84%9C_%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0_%EC%A0%9C%EC%95%BD%EC%A1%B0%EA%B1%B4_%EC%B2%98%EB%A6%AC%EB%B2%95.html">4.3 MLE에서 파라미터 제약조건 처리법</a></li>
<li class="toctree-l2"><a class="reference internal" href="044_MLE%EC%97%90%EC%84%9C_%EC%9E%90%EC%BD%94%EB%B9%84%EC%95%88_%EB%B0%8F_%ED%97%A4%EC%8B%9C%EC%95%88_%ED%99%9C%EC%9A%A9.html">4.4 MLE에서 헤시안 활용</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="050_%EB%82%98%EC%9D%B4%EB%B3%84_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95.html">5 나이별 순자산 분포 추정</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="051_%EB%82%98%EC%9D%B4%EB%B3%84_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95_SU_%EB%B6%84%ED%8F%AC_%ED%99%9C%EC%9A%A9.html">5.1 나이별 순자산 분포 추정: SU 분포 활용</a></li>
<li class="toctree-l2"><a class="reference internal" href="052_Bivariate_SU.html">5.2 Bivariate SU Distribution</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pilsunchoi/book3" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pilsunchoi/book3/issues/new?title=Issue%20on%20page%20%2Fnotebooks/012_다문화청소년패널_데이터.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/012_다문화청소년패널_데이터.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>1.2 다문화청소년패널 데이터</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1 데이터세트 합치기 예시</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">예시 데이터세트</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">데이터세트 병합 파이썬 함수</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#long-vs-wide">패널 데이터: Long vs. Wide</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">2 다문화청소년 패널 데이터 만들기</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">데이터 다운로딩</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">패널 데이터 만들기</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">데이터 유형 확인 및 변경</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">결측값 처리</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">3 개별 변수 분석</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">연차별 평균 국어 성적</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">종합 성적 변수</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">6개 성적 그래프</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">과목별 성적 상관계수 행렬</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">연차별 성적 상관계수 행렬</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">4 설명변수 탐색적 분석</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">대학 진학 그룹과 비진학 그룹</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vs">남학생 vs. 여학생</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">거주지역</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">지역규모</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">어머니 연령</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">아버지 연령</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">어머니 학력</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">아버지 학력</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">소득수준</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">가정형편에 대한 지각</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">부모의 외국인 여부</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">건강상태</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">삶의 만족도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">학업성적 만족도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">성취동기</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">희망 교육수준</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">가족의 지지</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">아버지에 대한 생각</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">어머니에 대한 생각</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">부모의 감독태도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">부모의 방임태도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">집단괴롭힘 피해경험</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">학교 내 도움을 주는 어른 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">학교 밖 도움을 주는 어른 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">대학 비진학 이유</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">진학 대학 학제</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">대입 전형 종류</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">대입 특별전형 종류</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">다문화가족정책지원경험 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">방과 후 수업료 지원 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">대학 만족도</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>1.2 다문화청소년패널 데이터<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="#1-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%B8%ED%8A%B8-%ED%95%A9%EC%B9%98%EA%B8%B0-%EC%98%88%EC%8B%9C"><span class="xref myst">1 데이터세트 합치기 예시</span></a></p></li>
<li><p><a class="reference internal" href="#2-%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84-%ED%8C%A8%EB%84%90-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A7%8C%EB%93%A4%EA%B8%B0"><span class="xref myst">2 다문화청소년 패널 데이터 만들기</span></a></p></li>
<li><p><a class="reference internal" href="#3-%ED%95%99%EC%97%85%EC%84%B1%EC%A0%81-%EB%B6%84%EC%84%9D"><span class="xref myst">3 학업성적 분석</span></a></p></li>
<li><p><a class="reference internal" href="#4-%EC%84%A4%EB%AA%85%EB%B3%80%EC%88%98-%ED%83%90%EC%83%89%EC%A0%81-%EB%B6%84%EC%84%9D"><span class="xref myst">4 설명변수 탐색적 분석</span></a></p></li>
</ul>
<section id="id2">
<h2>1 데이터세트 합치기 예시<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<section id="id3">
<h3>예시 데이터세트<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">df_S_w1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                        <span class="s1">&#39;PID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">103</span><span class="p">],</span>
                        <span class="s1">&#39;WAVE_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                        <span class="s1">&#39;score_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
                       <span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;df_S_w1:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_S_w1</span><span class="p">)</span>

<span class="n">df_P_w1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                        <span class="s1">&#39;WAVE_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                        <span class="s1">&#39;income_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">]</span>
                       <span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">df_P_w1:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_P_w1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_S_w1:
   ID  PID  WAVE_w1  score_w1
0   1  100        1         1
1   2  101        1         2
2   2  102        1         3
3   3  103        1         4

df_P_w1:
   ID  WAVE_w1  income_w1
0   1        1        100
1   2        1        200
2   3        1        300
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h3>데이터세트 병합 파이썬 함수<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 두 개의 데이터프레임 생성</span>
<span class="n">data1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                      <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]})</span>

<span class="n">data2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
                      <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]})</span>

<span class="c1"># concat 함수를 사용하여 데이터프레임 합치기 (수직 방향으로 합침)</span>
<span class="n">concatenated_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">concatenated_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   A  B
0  1  a
1  2  b
2  3  c
3  4  d
4  5  e
5  6  f
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 주어진 데이터프레임 생성</span>
<span class="n">data_S_w1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">103</span><span class="p">],</span>
    <span class="s1">&#39;WAVE_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;score_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">data_P_w1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s1">&#39;WAVE_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;income_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">df_S_w1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_S_w1</span><span class="p">)</span>
<span class="n">df_P_w1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_P_w1</span><span class="p">)</span>

<span class="c1"># &quot;_w1&quot; 접미사 제거</span>
<span class="n">df_S_w1</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df_S_w1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_w1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df_P_w1</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df_P_w1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_w1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># 데이터프레임 병합</span>
<span class="n">merged_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_S_w1</span><span class="p">,</span> <span class="n">df_P_w1</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">merged_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   ID  PID  WAVE_x  score  WAVE_y  income
0   1  100       1      1       1     100
1   2  101       1      2       1     200
2   2  102       1      3       1     200
3   3  103       1      4       1     300
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 주어진 데이터프레임 생성</span>
<span class="n">data_S_w1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">103</span><span class="p">],</span>
    <span class="s1">&#39;WAVE_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;score_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">data_P_w1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s1">&#39;WAVE_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;income_w1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">df_S_w1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_S_w1</span><span class="p">)</span>
<span class="n">df_P_w1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_P_w1</span><span class="p">)</span>

<span class="c1"># &quot;_w1&quot; 접미사 제거</span>
<span class="n">df_S_w1</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df_S_w1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_w1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df_P_w1</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df_P_w1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_w1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># 데이터프레임 병합</span>
<span class="n">merged_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_S_w1</span><span class="p">,</span> <span class="n">df_P_w1</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>

<span class="c1"># 중복된 접미사 제거 및 공통 변수만 포함</span>
<span class="n">merged_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">merged_data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
    <span class="sa">r</span><span class="s1">&#39;_x$&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;_y$&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">merged_data</span> <span class="o">=</span> <span class="n">merged_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="o">~</span><span class="n">merged_data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">merged_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   ID  PID  WAVE  score  income
0   1  100     1      1     100
1   2  101     1      2     200
2   2  102     1      3     200
3   3  103     1      4     300
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;merged_data:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">merged_data</span><span class="p">)</span>

<span class="n">df_w2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">104</span><span class="p">],</span>
    <span class="s1">&#39;WAVE&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="s1">&#39;income&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">110</span><span class="p">,</span> <span class="mi">210</span><span class="p">,</span> <span class="mi">210</span><span class="p">,</span> <span class="mi">310</span><span class="p">],</span>
    <span class="s1">&#39;new&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">df_w2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_w2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>merged_data:
   ID  PID  WAVE  score  income
0   1  100     1      1     100
1   2  101     1      2     200
2   2  102     1      3     200
3   3  103     1      4     300

df_w2
   ID  PID  WAVE  score  income  new
0   1  100     2      1     110    4
1   2  101     2      2     210    3
2   2  102     2      3     210    2
3   4  104     2      4     310    1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 두 데이터프레임을 결합하여 panel_data로 지정</span>
<span class="n">panel_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">merged_data</span><span class="p">,</span> <span class="n">df_w2</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">panel_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   ID  PID  WAVE  score  income  new
0   1  100     1      1     100  NaN
1   2  101     1      2     200  NaN
2   2  102     1      3     200  NaN
3   3  103     1      4     300  NaN
4   1  100     2      1     110  4.0
5   2  101     2      2     210  3.0
6   2  102     2      3     210  2.0
7   4  104     2      4     310  1.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="long-vs-wide">
<h3>패널 데이터: Long vs. Wide<a class="headerlink" href="#long-vs-wide" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># long 패널 데이터를 wide 패널 데이터로 변환</span>
<span class="n">wide_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">wide_panel_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       ID      score      income        new     
WAVE    1    2     1    2      1      2   1    2
PID                                             
100   1.0  1.0   1.0  1.0  100.0  110.0 NaN  4.0
101   2.0  2.0   2.0  2.0  200.0  210.0 NaN  3.0
102   2.0  2.0   3.0  3.0  200.0  210.0 NaN  2.0
103   3.0  NaN   4.0  NaN  300.0    NaN NaN  NaN
104   NaN  4.0   NaN  4.0    NaN  310.0 NaN  1.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># wide_panel_data에서 1부터 2까지 WAVE의 &#39;score&#39;만 추출</span>
<span class="n">scores_1_to_2</span> <span class="o">=</span> <span class="n">wide_panel_data</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">][[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">scores_1_to_2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WAVE    1    2
PID           
100   1.0  1.0
101   2.0  2.0
102   3.0  3.0
103   4.0  NaN
104   NaN  4.0
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id5">
<h2>2 다문화청소년 패널 데이터 만들기<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<section id="id6">
<h3>데이터 다운로딩<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<blockquote>
<div><p>원시(raw) 데이터는 <a href="https://www.nypi.re.kr/archive/mps/program/examinDataCode/dataDwloadAgreeView?menuId=MENU00226">한국청소년정책연구원</a>에서 다운로드 받는다.</p>
<p>다음 명령문은 다운로드 받은 다문화청소년 1기 패널 1차년도부터 10차년도까지의 청소년 및 학부모 CSV 파일을 불러들이는 작업이다.</p>
</div></blockquote>
<p><strong>데이터 파일 수정</strong></p>
<ul class="simple">
<li><p>다운로드 받은 다문화청소년 패널 데이터 파일 중 하나가 comma로 구분된 것이 아니라 tab으로 구분된 오류를 발견하여 이를 다른 것과 동일한 comma seperated 형식으로 바꾸는 작업부터 출발한다.</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import pandas as pd

# 주어진 파일 경로
file_path = (r&quot;C:\1 다문화\Data\다문화청소년패널조사(1기 2기)_csv\1기\학부모&quot; +
             r&quot;\다문화청소년패널 1기패널 학부모 9차년도_original.csv&quot;)

# 파일을 tab으로 분리하여 읽기
df = pd.read_csv(file_path, sep=&#39;\t&#39;)

# 변경된 데이터를 comma로 분리하여 새로운 파일로 저장
new_file_path = (r&quot;C:\1 다문화\Data\다문화청소년패널조사(1기 2기)_csv\1기\학부모&quot; +
                 r&quot;\다문화청소년패널 1기패널 학부모 9차년도.csv&quot;)
df.to_csv(new_file_path, index=False)

print(&quot;파일 변환 완료!&quot;)
</pre></div>
</div>
</section>
<section id="id7">
<h3>패널 데이터 만들기<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import pandas as pd
import os

# 다문화청소년패널조사(1기 2기)_csv\1기 폴더 경로
base_folder = r&quot;C:\1 다문화\Data\다문화청소년패널조사(1기 2기)_csv\1기&quot;

# 각 연차별로 패널 데이터를 만들기 위한 반복문
panel_data_list = []
for year in range(1, 11):  # 1차년도부터 10차년도까지
    youth_file = os.path.join(base_folder, &quot;청소년&quot;, 
                              f&quot;다문화청소년패널 1기패널 청소년 {year}차년도.csv&quot;)
    parent_file = os.path.join(base_folder, &quot;학부모&quot;, 
                               f&quot;다문화청소년패널 1기패널 학부모 {year}차년도.csv&quot;)

    # (1) 두 데이터세트를 합치기 전에 &quot;_w{연차}&quot; 접미사 제거
    youth_data = pd.read_csv(youth_file).rename(
        columns=lambda x: x.replace(f&quot;_w{year}&quot;, &quot;&quot;))
    parent_data = pd.read_csv(parent_file).rename(
        columns=lambda x: x.replace(f&quot;_w{year}&quot;, &quot;&quot;))

    # (2) ID 컬럼을 기준으로 청소년과 학부모 데이터세트 결합
    merged_data = pd.merge(youth_data, parent_data, on=&#39;ID&#39;, how=&#39;inner&#39;)

    # (3) 공통 변수 처리
    merged_data.columns = merged_data.columns.str.replace(
        r&#39;_x$&#39;, &#39;&#39;, regex=True).str.replace(r&#39;_y$&#39;, &#39;&#39;, regex=True)
    merged_data = merged_data.loc[:, ~merged_data.columns.duplicated()]

    # 각 연차 별로 결합된 데이터프레임을 리스트에 추가
    panel_data_list.append(merged_data)

# (4) 모든 연차의 패널 데이터를 하나로 결합하여 &quot;panel_data&quot; 생성
panel_data = pd.concat(panel_data_list)

# (5) &quot;panel_data&quot;를 CSV 파일로 저장
panel_data.to_csv(os.path.join(base_folder, &quot;panel_data_0.csv&quot;), index=False)
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">panel_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../Data/panel_data_0.csv&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">panel_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>PID</th>
      <th>WAVE</th>
      <th>SURVEY1</th>
      <th>S_GENDER</th>
      <th>S_AGE</th>
      <th>S_AREA1</th>
      <th>par_age_1</th>
      <th>par_age_2</th>
      <th>par_edu_1</th>
      <th>...</th>
      <th>youth_policy_c12</th>
      <th>youth_policy_c13</th>
      <th>filter_$</th>
      <th>p_social_aware_a01</th>
      <th>p_social_aware_a02</th>
      <th>p_social_aware_a03</th>
      <th>p_social_aware_a04</th>
      <th>p_social_aware_b01</th>
      <th>p_social_aware_b02</th>
      <th>p_social_aware_b03</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>100003</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>10</td>
      <td>2</td>
      <td>35</td>
      <td>46</td>
      <td>3</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>100008</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>10</td>
      <td>2</td>
      <td>31</td>
      <td>41</td>
      <td>2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>100012</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>10</td>
      <td>2</td>
      <td>38</td>
      <td>43</td>
      <td>4</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>100016</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>9</td>
      <td>2</td>
      <td>33</td>
      <td>37</td>
      <td>2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>100022</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>10</td>
      <td>2</td>
      <td>37</td>
      <td>38</td>
      <td>2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16345</th>
      <td>1630</td>
      <td>107538</td>
      <td>10</td>
      <td>1</td>
      <td>1</td>
      <td>19</td>
      <td>3</td>
      <td>39</td>
      <td>46</td>
      <td>4</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td>0.0</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>16346</th>
      <td>1631</td>
      <td>107542</td>
      <td>10</td>
      <td>1</td>
      <td>2</td>
      <td>19</td>
      <td>3</td>
      <td>47</td>
      <td>55</td>
      <td>4</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td>0.0</td>
      <td>4</td>
      <td>5</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <th>16347</th>
      <td>1632</td>
      <td>107547</td>
      <td>10</td>
      <td>1</td>
      <td>1</td>
      <td>19</td>
      <td>3</td>
      <td>44</td>
      <td>55</td>
      <td>4</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td>0.0</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>5</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>16348</th>
      <td>1633</td>
      <td>107554</td>
      <td>10</td>
      <td>1</td>
      <td>2</td>
      <td>19</td>
      <td>3</td>
      <td>46</td>
      <td>54</td>
      <td>4</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td>0.0</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>16349</th>
      <td>1634</td>
      <td>107560</td>
      <td>10</td>
      <td>1</td>
      <td>1</td>
      <td>19</td>
      <td>3</td>
      <td>56</td>
      <td>58</td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td>1.0</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>16350 rows × 1135 columns</p>
</div></div></div>
</div>
</section>
<section id="id8">
<h3>데이터 유형 확인 및 변경<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># panel_data의 변수 별 데이터 유형 확인</span>
<span class="n">data_types</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dtypes</span>

<span class="c1"># 데이터 유형 종류 확인</span>
<span class="n">unique_data_types</span> <span class="o">=</span> <span class="n">data_types</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;panel_data의 변수 별 데이터 유형:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_types</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">panel_data에 있는 데이터 유형 종류:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">unique_data_types</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>panel_data의 변수 별 데이터 유형:
ID                     int64
PID                    int64
WAVE                  object
SURVEY1               object
S_GENDER              object
                       ...  
p_social_aware_a03    object
p_social_aware_a04    object
p_social_aware_b01    object
p_social_aware_b02    object
p_social_aware_b03    object
Length: 1135, dtype: object

panel_data에 있는 데이터 유형 종류:
[dtype(&#39;int64&#39;) dtype(&#39;O&#39;) dtype(&#39;float64&#39;)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># panel_data의 &#39;object&#39; 타입의 변수들을 실수형으로 변환</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">panel_data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="c1"># 변환된 데이터 유형 확인</span>
<span class="n">data_types_after_conversion</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dtypes</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;panel_data의 변수 별 데이터 유형(변환 후):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_types_after_conversion</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>panel_data의 변수 별 데이터 유형(변환 후):
ID                      int64
PID                     int64
WAVE                  float64
SURVEY1               float64
S_GENDER              float64
                       ...   
p_social_aware_a03    float64
p_social_aware_a04    float64
p_social_aware_b01    float64
p_social_aware_b02    float64
p_social_aware_b03    float64
Length: 1135, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="id9">
<h3>결측값 처리<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -9인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -8인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -7인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -6인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>값이 -9인 경우의 수: 816
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>값이 -8인 경우의 수: 6232
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>값이 -7인 경우의 수: 46
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>값이 -6인 경우의 수: 11
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># panel_data에서 값이 -9, -8, -7, -6인 경우를 결측값으로 처리</span>
<span class="n">panel_data</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -9인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -8인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -7인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;값이 -6인 경우의 수:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">panel_data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>값이 -9인 경우의 수: 0
값이 -8인 경우의 수: 0
값이 -7인 경우의 수: 0
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>값이 -6인 경우의 수: 0
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id10">
<h2>3 개별 변수 분석<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<section id="id11">
<h3>연차별 평균 국어 성적<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># &#39;panel_data&#39;의 &#39;score_01&#39; 변수에 대해 &#39;WAVE&#39; 별로 평균값 계산</span>
<span class="n">mean_score_by_wave</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)[</span><span class="s1">&#39;score_01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mean_score_by_wave</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WAVE
1.0     3.735168
2.0     3.781333
3.0     3.765073
4.0     3.423913
5.0     3.440238
6.0     3.435666
7.0     3.290476
8.0     3.260652
9.0     3.276614
10.0         NaN
Name: score_01, dtype: float64
</pre></div>
</div>
</div>
</div>
<p><strong>연차별 평균 국어 성적 계산(wide 패널)</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># panel_data를 wide 타입으로 변환하여 &#39;wide_panel&#39;이라는 이름으로 저장</span>
<span class="n">wide_panel</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">wide_panel</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>            ID                                                          \
WAVE      1.0     2.0     3.0     4.0     5.0     6.0     7.0     8.0    
PID                                                                      
100003     1.0     1.0     1.0     1.0     1.0     1.0     1.0     1.0   
100008     2.0     2.0     2.0     2.0     2.0     2.0     2.0     2.0   
100012     3.0     3.0     3.0     3.0     3.0     3.0     3.0     3.0   
100016     4.0     4.0     4.0     4.0     4.0     4.0     4.0     4.0   
100022     5.0     NaN     NaN     NaN     NaN     NaN     NaN     5.0   
...        ...     ...     ...     ...     ...     ...     ...     ...   
107538  1630.0  1630.0  1630.0  1630.0  1630.0  1630.0  1630.0  1630.0   
107542  1631.0  1631.0  1631.0  1631.0  1631.0  1631.0  1631.0  1631.0   
107547  1632.0  1632.0  1632.0  1632.0  1632.0  1632.0  1632.0  1632.0   
107554  1633.0  1633.0  1633.0  1633.0  1633.0  1633.0  1633.0  1633.0   
107560  1634.0  1634.0  1634.0  1634.0  1634.0  1634.0  1634.0  1634.0   

                        ... youth_policy_c04 youth_policy_c05  \
WAVE      9.0     10.0  ...             10.0             10.0   
PID                     ...                                     
100003     1.0     1.0  ...              NaN              NaN   
100008     2.0     2.0  ...              NaN              NaN   
100012     3.0     3.0  ...              NaN              NaN   
100016     4.0     4.0  ...              5.0              NaN   
100022     5.0     5.0  ...              NaN              NaN   
...        ...     ...  ...              ...              ...   
107538  1630.0  1630.0  ...              NaN              NaN   
107542  1631.0  1631.0  ...              NaN              NaN   
107547  1632.0  1632.0  ...              NaN              NaN   
107554  1633.0  1633.0  ...              NaN              NaN   
107560  1634.0  1634.0  ...              NaN              NaN   

       youth_policy_c06 youth_policy_c07 youth_policy_c08 youth_policy_c09  \
WAVE               10.0             10.0             10.0             10.0   
PID                                                                          
100003              NaN              NaN              NaN              NaN   
100008              NaN              NaN              NaN              NaN   
100012              NaN              NaN              NaN              NaN   
100016              NaN              NaN              5.0              5.0   
100022              NaN              NaN              NaN              NaN   
...                 ...              ...              ...              ...   
107538              NaN              NaN              NaN              NaN   
107542              NaN              NaN              NaN              NaN   
107547              NaN              NaN              NaN              NaN   
107554              NaN              NaN              NaN              NaN   
107560              NaN              NaN              NaN              NaN   

       youth_policy_c10 youth_policy_c11 youth_policy_c12 youth_policy_c13  
WAVE               10.0             10.0             10.0             10.0  
PID                                                                         
100003              NaN              NaN              NaN              NaN  
100008              NaN              NaN              NaN              NaN  
100012              NaN              NaN              NaN              NaN  
100016              5.0              5.0              4.0              5.0  
100022              NaN              NaN              NaN              NaN  
...                 ...              ...              ...              ...  
107538              NaN              NaN              NaN              NaN  
107542              NaN              NaN              NaN              NaN  
107547              NaN              NaN              NaN              NaN  
107554              NaN              NaN              NaN              NaN  
107560              NaN              NaN              NaN              NaN  

[1635 rows x 5122 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># wide_panel에서 score_01(국어 성적) 변수 출력</span>
<span class="n">score_01_wide</span> <span class="o">=</span> <span class="n">wide_panel</span><span class="p">[</span><span class="s1">&#39;score_01&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">score_01_wide</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WAVE    1.0  2.0  3.0  4.0  5.0  6.0  7.0  8.0  9.0
PID                                                
100003  5.0  4.0  3.0  3.0  4.0  3.0  3.0  4.0  3.0
100008  5.0  5.0  5.0  4.0  3.0  3.0  4.0  4.0  3.0
100012  5.0  3.0  4.0  3.0  3.0  4.0  3.0  4.0  3.0
100016  5.0  4.0  4.0  3.0  3.0  3.0  3.0  3.0  3.0
100022  3.0  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN
...     ...  ...  ...  ...  ...  ...  ...  ...  ...
107538  3.0  3.0  4.0  3.0  4.0  4.0  3.0  4.0  3.0
107542  4.0  3.0  3.0  3.0  4.0  4.0  4.0  4.0  4.0
107547  3.0  4.0  4.0  3.0  3.0  3.0  4.0  3.0  3.0
107554  4.0  4.0  4.0  4.0  4.0  4.0  4.0  3.0  4.0
107560  2.0  3.0  4.0  3.0  3.0  3.0  3.0  3.0  3.0

[1635 rows x 9 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># wide_panel에서 score_01(국어 성적) 변수의 평균값 계산</span>
<span class="n">score_01_mean</span> <span class="o">=</span> <span class="n">wide_panel</span><span class="p">[</span><span class="s1">&#39;score_01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">score_01_mean</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WAVE
1.0    3.735168
2.0    3.781333
3.0    3.765073
4.0    3.423913
5.0    3.440238
6.0    3.435666
7.0    3.290476
8.0    3.260652
9.0    3.276614
dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
<section id="id12">
<h3>종합 성적 변수<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># panel_data에서 각 PID 별로 score_01부터 score_05까지의 평균값 계산하여 &#39;score_overall&#39;로 지정</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;score_01&#39;</span><span class="p">,</span> <span class="s1">&#39;score_02&#39;</span><span class="p">,</span> <span class="s1">&#39;score_03&#39;</span><span class="p">,</span> <span class="s1">&#39;score_04&#39;</span><span class="p">,</span> <span class="s1">&#39;score_05&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="s1">&#39;WAVE&#39;</span><span class="p">,</span> <span class="s1">&#39;score_overall&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>          PID  WAVE  score_overall
0      100003   1.0            4.6
1      100008   1.0            4.2
2      100012   1.0            3.8
3      100016   1.0            3.6
4      100022   1.0            2.8
...       ...   ...            ...
16345  107538  10.0            NaN
16346  107542  10.0            NaN
16347  107547  10.0            NaN
16348  107554  10.0            NaN
16349  107560  10.0            NaN

[16350 rows x 3 columns]
</pre></div>
</div>
</div>
</div>
<p><strong>종합 성적 평균 변화 추이</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># &#39;panel_data&#39;에서 연차별 score_overall 변수의 평균값 계산</span>
<span class="n">score_overall_by_wave</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">score_overall_by_wave</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WAVE
1.0     3.390459
2.0     3.413867
3.0     3.414553
4.0     3.136087
5.0     3.087602
6.0     3.081565
7.0     3.000635
8.0     2.981523
9.0     3.026483
10.0         NaN
Name: score_overall, dtype: float64
</pre></div>
</div>
</div>
</div>
<p><strong>종합 성적 평균 변화 추이 그래프 그리기</strong></p>
<p><strong>그래프 한글 표시</strong></p>
<ul class="simple">
<li><p>그래프에서 한글이 깨지는 것을 막기 위해서는 아래 명령문을 실행해야 한다.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">font_manager</span><span class="p">,</span> <span class="n">rc</span>

<span class="n">font_path</span> <span class="o">=</span> <span class="s2">&quot;/Windows/Fonts/malgun.ttf&quot;</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">font_manager</span><span class="o">.</span><span class="n">FontProperties</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">font_path</span><span class="p">)</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.unicode_minus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># 축에 마이너스 부호 제대로 나오게 하기</span>
</pre></div>
</div>
</div>
</div>
<p>위 코드는 Windows에 해당하는 것이고, MacBook의 경우에는 위 명령문 세 번째 줄을 다음과 같이 바꿔야 한다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">font_path</span> <span class="o">=</span> <span class="s2">&quot;/System/Library/Fonts/AppleSDGothicNeo.ttc&quot;</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># panel_data에서 1부터 9까지의 WAVE에 해당하는 데이터 추출</span>
<span class="n">selected_waves</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">selected_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;WAVE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">selected_waves</span><span class="p">)]</span>

<span class="c1"># 연차별 score_overall(종합 성적) 평균값 계산</span>
<span class="n">score_overall_mean_by_wave</span> <span class="o">=</span> <span class="n">selected_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 그래프 크기 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># 선 그래프 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">score_overall_mean_by_wave</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> 
         <span class="n">score_overall_mean_by_wave</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="c1"># 데이터 레이블(소수점 2자리) 추가 (간격 조정)</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">score_overall_mean_by_wave</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">score_overall_mean_by_wave</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mf">0.05</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">y</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

<span class="c1"># 그래프 타이틀과 축 라벨 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;연차별 평균 종합 성적&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;연차&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;점수&#39;</span><span class="p">)</span>

<span class="c1"># 세로축 범위, 틱 값 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">])</span>

<span class="c1"># 그래프 출력</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/de3ec77065246a5bd03c4ece782a4ea0722d94e48f39981e7e5ed0a7e1f557fe.png" src="../_images/de3ec77065246a5bd03c4ece782a4ea0722d94e48f39981e7e5ed0a7e1f557fe.png" />
</div>
</div>
</section>
<section id="id13">
<h3>6개 성적 그래프<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># panel_data에서 1부터 9까지의 WAVE에 해당하는 데이터 추출</span>
<span class="n">selected_waves</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">selected_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;WAVE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">selected_waves</span><span class="p">)]</span>

<span class="c1"># 그래프 크기 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="c1"># 그래프의 행과 열 개수 설정</span>
<span class="n">num_rows</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">num_cols</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># 그래프 종류와 그래프 제목 설정</span>
<span class="n">graphs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;score_overall&#39;</span><span class="p">:</span> <span class="s1">&#39;종합성적&#39;</span><span class="p">,</span>
    <span class="s1">&#39;score_01&#39;</span><span class="p">:</span> <span class="s1">&#39;국어&#39;</span><span class="p">,</span>
    <span class="s1">&#39;score_02&#39;</span><span class="p">:</span> <span class="s1">&#39;영어&#39;</span><span class="p">,</span>
    <span class="s1">&#39;score_03&#39;</span><span class="p">:</span> <span class="s1">&#39;수학&#39;</span><span class="p">,</span>
    <span class="s1">&#39;score_04&#39;</span><span class="p">:</span> <span class="s1">&#39;사회&#39;</span><span class="p">,</span>
    <span class="s1">&#39;score_05&#39;</span><span class="p">:</span> <span class="s1">&#39;과학&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># 그래프 그리기</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">var_name</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">selected_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)[</span><span class="n">var_name</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
             <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

    <span class="c1"># 데이터 레이블(소수점 2자리) 추가 (간격 조정)</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">selected_waves</span><span class="p">,</span> <span class="n">selected_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)[</span><span class="n">var_name</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">y</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> 
                 <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

    <span class="c1"># 그래프 제목 설정 (bold 처리)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

    <span class="c1"># 가로축 눈금 설정</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">selected_waves</span><span class="p">)</span>

    <span class="c1"># 세로축 범위, 틱 값 설정</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">])</span>

<span class="c1"># 그래프 간의 간격 조정</span>
<span class="c1">#plt.tight_layout()</span>

<span class="c1"># 그리드 없애기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># 그래프 출력</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/78b15748e7923ce593da7631ce67d943a8a91e9ff33dbed772592e924d90aa7b.png" src="../_images/78b15748e7923ce593da7631ce67d943a8a91e9ff33dbed772592e924d90aa7b.png" />
</div>
</div>
</section>
<section id="id14">
<h3>과목별 성적 상관계수 행렬<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;score_01&#39;</span><span class="p">,</span> <span class="s1">&#39;score_02&#39;</span><span class="p">,</span> <span class="s1">&#39;score_03&#39;</span><span class="p">,</span> <span class="s1">&#39;score_04&#39;</span><span class="p">,</span> <span class="s1">&#39;score_05&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>          score_01  score_02  score_03  score_04  score_05
score_01  1.000000  0.423211  0.363510  0.498693  0.468477
score_02  0.423211  1.000000  0.426380  0.331706  0.341875
score_03  0.363510  0.426380  1.000000  0.315694  0.478630
score_04  0.498693  0.331706  0.315694  1.000000  0.538303
score_05  0.468477  0.341875  0.478630  0.538303  1.000000
</pre></div>
</div>
</div>
</div>
</section>
<section id="id15">
<h3>연차별 성적 상관계수 행렬<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>앞에서 연차 별로 5개 과목 성적을 평균하여 만든 종합 성적(<code class="docutils literal notranslate"><span class="pre">score_overall</span></code>) 변수에 대해 상관계수 행렬을 만들어 보려고 한다. 이 작업은 wide 패널이 더 간단하기 때문에 앞에서 사용한 long 패널인 <code class="docutils literal notranslate"><span class="pre">panel_data</span></code>를 wide 타입으로 변환시킨 다음에 ChatGPT의 도움을 받기로 한다.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># panel_data를 wide 타입으로 변환하여 &#39;wide_panel&#39;이라는 이름으로 저장</span>
<span class="n">wide_panel</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;WAVE&#39;</span><span class="p">)</span>
<span class="n">wide_panel</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="10" halign="left">ID</th>
      <th>...</th>
      <th>youth_policy_c04</th>
      <th>youth_policy_c05</th>
      <th>youth_policy_c06</th>
      <th>youth_policy_c07</th>
      <th>youth_policy_c08</th>
      <th>youth_policy_c09</th>
      <th>youth_policy_c10</th>
      <th>youth_policy_c11</th>
      <th>youth_policy_c12</th>
      <th>youth_policy_c13</th>
    </tr>
    <tr>
      <th>WAVE</th>
      <th>1.0</th>
      <th>2.0</th>
      <th>3.0</th>
      <th>4.0</th>
      <th>5.0</th>
      <th>6.0</th>
      <th>7.0</th>
      <th>8.0</th>
      <th>9.0</th>
      <th>10.0</th>
      <th>...</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
      <th>10.0</th>
    </tr>
    <tr>
      <th>PID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>100003</th>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>100008</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>100012</th>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>100016</th>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>100022</th>
      <td>5.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>107538</th>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>1630.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>107542</th>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>1631.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>107547</th>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>1632.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>107554</th>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>1633.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>107560</th>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>1634.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>1635 rows × 5131 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># wide_panel에서 연차 별 score_overall(종합 성적)의 상관계수 행렬 구하기</span>
<span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">wide_panel</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="n">correlation_matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>WAVE</th>
      <th>1.0</th>
      <th>2.0</th>
      <th>3.0</th>
      <th>4.0</th>
      <th>5.0</th>
      <th>6.0</th>
      <th>7.0</th>
      <th>8.0</th>
      <th>9.0</th>
    </tr>
    <tr>
      <th>WAVE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1.0</th>
      <td>1.000000</td>
      <td>0.508178</td>
      <td>0.512133</td>
      <td>0.426120</td>
      <td>0.374644</td>
      <td>0.391845</td>
      <td>0.292141</td>
      <td>0.252097</td>
      <td>0.278864</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>0.508178</td>
      <td>1.000000</td>
      <td>0.576268</td>
      <td>0.510946</td>
      <td>0.413864</td>
      <td>0.421059</td>
      <td>0.351529</td>
      <td>0.315889</td>
      <td>0.305440</td>
    </tr>
    <tr>
      <th>3.0</th>
      <td>0.512133</td>
      <td>0.576268</td>
      <td>1.000000</td>
      <td>0.588392</td>
      <td>0.472554</td>
      <td>0.512864</td>
      <td>0.420495</td>
      <td>0.376708</td>
      <td>0.357967</td>
    </tr>
    <tr>
      <th>4.0</th>
      <td>0.426120</td>
      <td>0.510946</td>
      <td>0.588392</td>
      <td>1.000000</td>
      <td>0.656938</td>
      <td>0.629315</td>
      <td>0.482796</td>
      <td>0.449411</td>
      <td>0.432241</td>
    </tr>
    <tr>
      <th>5.0</th>
      <td>0.374644</td>
      <td>0.413864</td>
      <td>0.472554</td>
      <td>0.656938</td>
      <td>1.000000</td>
      <td>0.693395</td>
      <td>0.485416</td>
      <td>0.430875</td>
      <td>0.412313</td>
    </tr>
    <tr>
      <th>6.0</th>
      <td>0.391845</td>
      <td>0.421059</td>
      <td>0.512864</td>
      <td>0.629315</td>
      <td>0.693395</td>
      <td>1.000000</td>
      <td>0.552288</td>
      <td>0.508603</td>
      <td>0.472638</td>
    </tr>
    <tr>
      <th>7.0</th>
      <td>0.292141</td>
      <td>0.351529</td>
      <td>0.420495</td>
      <td>0.482796</td>
      <td>0.485416</td>
      <td>0.552288</td>
      <td>1.000000</td>
      <td>0.658597</td>
      <td>0.599557</td>
    </tr>
    <tr>
      <th>8.0</th>
      <td>0.252097</td>
      <td>0.315889</td>
      <td>0.376708</td>
      <td>0.449411</td>
      <td>0.430875</td>
      <td>0.508603</td>
      <td>0.658597</td>
      <td>1.000000</td>
      <td>0.685118</td>
    </tr>
    <tr>
      <th>9.0</th>
      <td>0.278864</td>
      <td>0.305440</td>
      <td>0.357967</td>
      <td>0.432241</td>
      <td>0.412313</td>
      <td>0.472638</td>
      <td>0.599557</td>
      <td>0.685118</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># 히트맵 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span><span class="p">)</span>

<span class="c1"># 그래프 제목 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;연차별 score_overall(종합성적) 상관계수 행렬&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># 그래프 출력</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/3b2baabe2a3bbf9fc0c4b7f962edffeb4292903ac49d6401fa6f2be9befafdc6.png" src="../_images/3b2baabe2a3bbf9fc0c4b7f962edffeb4292903ac49d6401fa6f2be9befafdc6.png" />
</div>
</div>
<p><strong>만든 패널 데이터 저장하기</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">panel_data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;../Data/panel_data.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id16">
<h2>4 설명변수 탐색적 분석<a class="headerlink" href="#id16" title="Link to this heading">#</a></h2>
<p><strong>데이터세트 불러오기</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">panel_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../Data/panel_data.csv&#39;</span><span class="p">)</span>
<span class="n">panel_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>PID</th>
      <th>WAVE</th>
      <th>SURVEY1</th>
      <th>S_GENDER</th>
      <th>S_AGE</th>
      <th>S_AREA1</th>
      <th>par_age_1</th>
      <th>par_age_2</th>
      <th>par_edu_1</th>
      <th>...</th>
      <th>youth_policy_c13</th>
      <th>filter_$</th>
      <th>p_social_aware_a01</th>
      <th>p_social_aware_a02</th>
      <th>p_social_aware_a03</th>
      <th>p_social_aware_a04</th>
      <th>p_social_aware_b01</th>
      <th>p_social_aware_b02</th>
      <th>p_social_aware_b03</th>
      <th>score_overall</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>100003</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>35.0</td>
      <td>46.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>4.6</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>100008</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>31.0</td>
      <td>41.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>4.2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>100012</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>38.0</td>
      <td>43.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.8</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>100016</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>9.0</td>
      <td>2.0</td>
      <td>33.0</td>
      <td>37.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>100022</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>37.0</td>
      <td>38.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.8</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16345</th>
      <td>1630</td>
      <td>107538</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>19.0</td>
      <td>3.0</td>
      <td>39.0</td>
      <td>46.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16346</th>
      <td>1631</td>
      <td>107542</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>19.0</td>
      <td>3.0</td>
      <td>47.0</td>
      <td>55.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16347</th>
      <td>1632</td>
      <td>107547</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>19.0</td>
      <td>3.0</td>
      <td>44.0</td>
      <td>55.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16348</th>
      <td>1633</td>
      <td>107554</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>19.0</td>
      <td>3.0</td>
      <td>46.0</td>
      <td>54.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16349</th>
      <td>1634</td>
      <td>107560</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>19.0</td>
      <td>3.0</td>
      <td>56.0</td>
      <td>58.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>16350 rows × 1136 columns</p>
</div></div></div>
</div>
<section id="id17">
<h3>대학 진학 그룹과 비진학 그룹<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># WAVE가 10인 경우의 데이터 추출</span>
<span class="n">selected_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;WAVE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">10</span><span class="p">]</span>

<span class="c1"># &#39;uni_a01&#39; 변수의 값별 관측 개수 계산</span>
<span class="n">value_counts</span> <span class="o">=</span> <span class="n">selected_data</span><span class="p">[</span><span class="s1">&#39;uni_a01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># &#39;uni_a01&#39; 변수의 값별 비율 계산</span>
<span class="n">value_percentages</span> <span class="o">=</span> <span class="n">selected_data</span><span class="p">[</span><span class="s1">&#39;uni_a01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                                                          <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1"># 결과를 데이터프레임으로 변환</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Count&#39;</span><span class="p">:</span> <span class="n">value_counts</span><span class="p">,</span> <span class="s1">&#39;Percentage(%)&#39;</span><span class="p">:</span> <span class="n">value_percentages</span><span class="p">})</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     Count  Percentage(%)
1.0    717      43.853211
NaN    544      33.272171
2.0    374      22.874618
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># uni_a01 값이 1인 학생(대학에 진학한 학생)과 2인 학생(대학에 진학하지 않은 학생)의 PID 추출</span>
<span class="n">university_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">non_university_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 1부터 9까지의 WAVE 별로 score_overall 평균값 계산</span>
<span class="n">university_scores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">non_university_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">wave</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">university_score_mean</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span>
        <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">university_students</span><span class="p">))</span> 
        <span class="o">&amp;</span> <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;WAVE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">wave</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">non_university_score_mean</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span>
        <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">non_university_students</span><span class="p">))</span> 
        <span class="o">&amp;</span> <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;WAVE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">wave</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    
    <span class="n">university_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">university_score_mean</span><span class="p">)</span>
    <span class="n">non_university_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">non_university_score_mean</span><span class="p">)</span>

<span class="c1"># 결과를 데이터프레임으로 변환</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;연차&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span>
    <span class="s1">&#39;대학 진학 평균 성적&#39;</span><span class="p">:</span> <span class="n">university_scores</span><span class="p">,</span>
    <span class="s1">&#39;대학 미진학 평균 성적&#39;</span><span class="p">:</span> <span class="n">non_university_scores</span>
<span class="p">})</span>

<span class="c1"># 결과 출력</span>
<span class="n">result_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>연차</th>
      <th>대학 진학 평균 성적</th>
      <th>대학 미진학 평균 성적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>3.415900</td>
      <td>3.324064</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3.444852</td>
      <td>3.298378</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>3.482138</td>
      <td>3.308311</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>3.200843</td>
      <td>3.003753</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>3.155775</td>
      <td>2.959677</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>3.194390</td>
      <td>2.872432</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>3.074302</td>
      <td>2.889918</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>3.029775</td>
      <td>2.890449</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>3.075809</td>
      <td>2.935714</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># uni_a01 값이 1인 학생(대학에 진학한 학생)과 2인 학생(대학에 진학하지 않은 학생)의 PID 추출</span>
<span class="n">university_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">non_university_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 1부터 9까지의 WAVE 별로 score_overall 평균값 계산</span>
<span class="n">university_scores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">non_university_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">wave</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">university_score_mean</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span>
        <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">university_students</span><span class="p">))</span> 
        <span class="o">&amp;</span> <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;WAVE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">wave</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">non_university_score_mean</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span>
        <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">non_university_students</span><span class="p">))</span>
        <span class="o">&amp;</span> <span class="p">(</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;WAVE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">wave</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    
    <span class="n">university_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">university_score_mean</span><span class="p">)</span>
    <span class="n">non_university_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">non_university_score_mean</span><span class="p">)</span>

<span class="c1"># 선 그래프 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">university_scores</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;대학 진학&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">non_university_scores</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;대학 미진학&#39;</span><span class="p">)</span>

<span class="c1"># 데이터 레이블과 마커 간의 간격 조정</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">txt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">university_scores</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">txt</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">university_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> 
                 <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">txt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">non_university_scores</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">txt</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">non_university_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> 
                 <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

<span class="c1"># 그래프 제목, 축 레이블 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;대학 진학 여부에 따른 연차별 평균 성적&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;연차&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">)</span>

<span class="c1"># 세로축 범위와 틱 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># 그리드 제거</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># 범례 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># 그래프 출력</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/deae9ee6bebf38f9a23711428c6b812a4f3abf5ffec16f78a52b260856588112.png" src="../_images/deae9ee6bebf38f9a23711428c6b812a4f3abf5ffec16f78a52b260856588112.png" />
</div>
</div>
</section>
<section id="vs">
<h3>남학생 vs. 여학생<a class="headerlink" href="#vs" title="Link to this heading">#</a></h3>
<p><strong>성별이 여러 값을 갖는 경우 최빈값으로 통일: <code class="docutils literal notranslate"><span class="pre">GENDER</span></code></strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># ID별로 그룹화</span>
<span class="n">grouped</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;ID&#39;</span><span class="p">)</span>

<span class="c1"># 각 ID에 대해 최빈값 계산</span>
<span class="k">def</span> <span class="nf">calculate_mode</span><span class="p">(</span><span class="n">group</span><span class="p">):</span>
    <span class="c1"># S_GENDER의 최빈값 계산</span>
    <span class="n">mode_value</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="s1">&#39;S_GENDER&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">mode_value</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">mode_value</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># iloc[0]는 첫 번째(가장 크기가 작은) 최빈값</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>  <span class="c1"># 모든 값이 결측인 경우 NaN 반환</span>

<span class="c1"># 각 ID에 대한 최빈값을 가진 시리즈 생성</span>
<span class="n">GENDER</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">calculate_mode</span><span class="p">)</span>

<span class="c1"># 새로운 컬럼 GENDER를 생성하여 ID별로 계산된 최빈값 매핑</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;GENDER&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">GENDER</span><span class="p">)</span>

<span class="c1"># 결과를 확인</span>
<span class="nb">print</span><span class="p">(</span><span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;S_GENDER&#39;</span><span class="p">,</span> <span class="s1">&#39;GENDER&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         ID  S_GENDER  GENDER
0         1       2.0     2.0
1         2       2.0     2.0
2         3       1.0     1.0
3         4       1.0     1.0
4         5       1.0     1.0
...     ...       ...     ...
16345  1630       1.0     1.0
16346  1631       2.0     2.0
16347  1632       1.0     1.0
16348  1633       2.0     2.0
16349  1634       1.0     1.0

[16350 rows x 3 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 학생 성별(GENDER)이 남성(1)인 데이터 추출</span>
<span class="n">male_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;GENDER&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># 학생 성별(GENDER)이 여성(2)인 데이터 추출</span>
<span class="n">female_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;GENDER&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>

<span class="c1"># 남학생과 여학생의 평균 성적 계산</span>
<span class="n">male_mean_score</span> <span class="o">=</span> <span class="n">male_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">female_mean_score</span> <span class="o">=</span> <span class="n">female_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 남학생과 여학생의 관측수 계산 (결측값을 제외한 관측의 개수)</span>
<span class="n">male_observation_count</span> <span class="o">=</span> <span class="n">male_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">female_observation_count</span> <span class="o">=</span> <span class="n">female_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># 결과를 데이터프레임으로 변환</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;성별&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;남학생&#39;</span><span class="p">,</span> <span class="s1">&#39;여학생&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">male_observation_count</span><span class="p">,</span> <span class="n">female_observation_count</span><span class="p">],</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">male_mean_score</span><span class="p">,</span> <span class="n">female_mean_score</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    성별   관측수     평균 성적
0  남학생  6040  3.220251
1  여학생  6197  3.153351
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind</span>

<span class="c1"># 학생 성별(GENDER)이 남성(1)인 데이터 추출</span>
<span class="n">male_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;GENDER&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># 학생 성별(GENDER)이 여성(2)인 데이터 추출</span>
<span class="n">female_students</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;GENDER&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>

<span class="c1"># t-검정 수행</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_ind</span><span class="p">(</span><span class="n">male_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="n">female_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="n">equal_var</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;성별 평균 성적에 유의미한 차이가 있습니다.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;성별 평균 성적에 유의미한 차이가 없습니다.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>성별 평균 성적에 유의미한 차이가 없습니다.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>

<span class="c1"># 학생 성별(GENDER)이 남성(1)인 데이터 추출</span>
<span class="n">male_students</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;GENDER&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># 학생 성별(GENDER)이 여성(2)인 데이터 추출</span>
<span class="n">female_students</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;GENDER&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>

<span class="c1"># t-검정 수행</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_ind</span><span class="p">(</span><span class="n">male_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> 
                            <span class="n">female_students</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="n">equal_var</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># 통계적 유의성(5% 유의수준) 판단</span>
<span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="n">statistical_significance</span> <span class="o">=</span> <span class="s2">&quot;유의하다&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">statistical_significance</span> <span class="o">=</span> <span class="s2">&quot;유의하지 않다&quot;</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t_stat:&quot;</span><span class="p">,</span> <span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p_value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성(5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">statistical_significance</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>t_stat: 5.07156529306311
p_value: 4.0037600910261123e-07
통계적 유의성(5% 유의수준): 유의하다
</pre></div>
</div>
</div>
</div>
</section>
<section id="id18">
<h3>거주지역<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>S_AREA1: 거주지역</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.서울</p></li>
<li><p>2.경인(경기+인천)</p></li>
<li><p>3.충청 및 강원권</p></li>
<li><p>4.경상권</p></li>
<li><p>5.전라 및 제주권</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">f_oneway</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>

<span class="c1"># 거주지역(S_AREA1)별로 그룹화하여 데이터 추출</span>
<span class="n">grouped_area_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">group</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> 
                     <span class="n">group</span> <span class="ow">in</span> <span class="n">cleaned_panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;S_AREA1&#39;</span><span class="p">)]</span>

<span class="c1"># ANOVA 검정 수행</span>
<span class="n">f_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">f_oneway</span><span class="p">(</span><span class="o">*</span><span class="n">grouped_area_data</span><span class="p">)</span>

<span class="c1"># 통계적 유의성(5% 유의수준) 판단</span>
<span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="n">statistical_significance</span> <span class="o">=</span> <span class="s2">&quot;유의하다&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">statistical_significance</span> <span class="o">=</span> <span class="s2">&quot;유의하지 않다&quot;</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;검정통계량 (F-statistic):&quot;</span><span class="p">,</span> <span class="n">f_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성 (5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">statistical_significance</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>검정통계량 (F-statistic): 8.47601789882217
p-value: 7.96136082387677e-07
통계적 유의성 (5% 유의수준): 유의하다
</pre></div>
</div>
</div>
</div>
</section>
<section id="id19">
<h3>지역규모<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>S_AREA1: 거주지 지역규모</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.대도시</p></li>
<li><p>2.중소도시</p></li>
<li><p>3.읍/면</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">f_oneway</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>

<span class="c1"># 지역규모(S_AREA2)별로 그룹화하여 데이터 추출</span>
<span class="n">grouped_area_size_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">group</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> 
                          <span class="n">group</span> <span class="ow">in</span> <span class="n">cleaned_panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;S_AREA2&#39;</span><span class="p">)]</span>

<span class="c1"># ANOVA 검정 수행</span>
<span class="n">f_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">f_oneway</span><span class="p">(</span><span class="o">*</span><span class="n">grouped_area_size_data</span><span class="p">)</span>

<span class="c1"># 통계적 유의성(5% 유의수준) 판단</span>
<span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="n">statistical_significance</span> <span class="o">=</span> <span class="s2">&quot;유의하다&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">statistical_significance</span> <span class="o">=</span> <span class="s2">&quot;유의하지 않다&quot;</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;검정통계량 (F-statistic):&quot;</span><span class="p">,</span> <span class="n">f_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성 (5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">statistical_significance</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>검정통계량 (F-statistic): 6.310142339448936
p-value: 0.0018246108287821932
통계적 유의성 (5% 유의수준): 유의하다
</pre></div>
</div>
</div>
</div>
</section>
<section id="id20">
<h3>어머니 연령<a class="headerlink" href="#id20" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;par_age_1&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;par_age_1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;어머니 연령&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 어머니 연령의 산점도&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_age_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9c135201bcb67e3034b6a771a2ff38990dc51e31c3605666474d49d771b3014a.png" src="../_images/9c135201bcb67e3034b6a771a2ff38990dc51e31c3605666474d49d771b3014a.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: -0.1104533455433847
</pre></div>
</div>
</div>
</div>
</section>
<section id="id21">
<h3>아버지 연령<a class="headerlink" href="#id21" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;par_age_2&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;par_age_2&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;아버지 연령&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 아버지 연령의 산점도&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_age_2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/3f156d5edf7ceb85f43d4129e5fd183c5faafe2ae70ee407394991db906e03cd.png" src="../_images/3f156d5edf7ceb85f43d4129e5fd183c5faafe2ae70ee407394991db906e03cd.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: -0.13727097080260833
</pre></div>
</div>
</div>
</div>
</section>
<section id="id22">
<h3>어머니 학력<a class="headerlink" href="#id22" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>par_edu_m: 어머니 학력</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.중졸 이하</p></li>
<li><p>2.고졸</p></li>
<li><p>3.대학(2~3년제) 졸업</p></li>
<li><p>4.대학교(4년제 이상) 졸업</p></li>
<li><p>5.대학원 졸업(석박사 포함)</p></li>
</ul>
</div></blockquote>
<p><strong>어머니 학력이 여러 값을 갖는 경우 최빈값으로 통일: <code class="docutils literal notranslate"><span class="pre">par_edu_m</span></code></strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># ID별로 그룹화</span>
<span class="n">grouped</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;ID&#39;</span><span class="p">)</span>

<span class="c1"># 각 ID에 대해 최빈값 계산</span>
<span class="k">def</span> <span class="nf">calculate_mode</span><span class="p">(</span><span class="n">group</span><span class="p">):</span>
    <span class="c1"># par_edu_1의 최빈값 계산</span>
    <span class="n">mode_value</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="s1">&#39;par_edu_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">mode_value</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">mode_value</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># iloc[0]는 첫 번째(가장 크기가 작은) 최빈값</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>  <span class="c1"># 모든 값이 결측인 경우 NaN 반환</span>

<span class="c1"># 각 ID에 대한 최빈값을 가진 시리즈 생성</span>
<span class="n">par_edu_m</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">calculate_mode</span><span class="p">)</span>

<span class="c1"># 새로운 컬럼 GENDER를 생성하여 ID별로 계산된 최빈값 매핑</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">par_edu_m</span><span class="p">)</span>

<span class="c1"># 결과를 확인</span>
<span class="nb">print</span><span class="p">(</span><span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;par_edu_1&#39;</span><span class="p">,</span> <span class="s1">&#39;par_edu_m&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         ID  par_edu_1  par_edu_m
0         1        3.0        3.0
1         2        2.0        2.0
2         3        4.0        4.0
3         4        2.0        2.0
4         5        2.0        2.0
...     ...        ...        ...
16345  1630        4.0        4.0
16346  1631        4.0        4.0
16347  1632        4.0        4.0
16348  1633        4.0        4.0
16349  1634        1.0        1.0

[16350 rows x 3 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;par_edu_m&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;어머니 학력&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 어머니 학력의 산점도&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/69692d881db537a42db6694809b5ac5a8813a9c090b6de8f5aa630970887190a.png" src="../_images/69692d881db537a42db6694809b5ac5a8813a9c090b6de8f5aa630970887190a.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.11904654581268331
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;par_edu_m&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;어머니 학력&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 어머니 학력의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_m&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/690c7bdebd2963d1735635fa843dc5467191aab8b1c020ca47bba538e9c7756b.png" src="../_images/690c7bdebd2963d1735635fa843dc5467191aab8b1c020ca47bba538e9c7756b.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.11904654581268331
</pre></div>
</div>
</div>
</div>
</section>
<section id="id23">
<h3>아버지 학력<a class="headerlink" href="#id23" title="Link to this heading">#</a></h3>
<p><strong>아버지 학력이 여러 값을 갖는 경우 최빈값으로 통일: <code class="docutils literal notranslate"><span class="pre">par_edu_f</span></code></strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># ID별로 그룹화</span>
<span class="n">grouped</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;ID&#39;</span><span class="p">)</span>

<span class="c1"># 각 ID에 대해 최빈값 계산</span>
<span class="k">def</span> <span class="nf">calculate_mode</span><span class="p">(</span><span class="n">group</span><span class="p">):</span>
    <span class="c1"># par_edu_2의 최빈값 계산</span>
    <span class="n">mode_value</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="s1">&#39;par_edu_2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">mode_value</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">mode_value</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># iloc[0]는 첫 번째(가장 크기가 작은) 최빈값</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>  <span class="c1"># 모든 값이 결측인 경우 NaN 반환</span>

<span class="c1"># 각 ID에 대한 최빈값을 가진 시리즈 생성</span>
<span class="n">par_edu_f</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">calculate_mode</span><span class="p">)</span>

<span class="c1"># 새로운 컬럼 GENDER를 생성하여 ID별로 계산된 최빈값 매핑</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">par_edu_f</span><span class="p">)</span>

<span class="c1"># 결과를 확인</span>
<span class="nb">print</span><span class="p">(</span><span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;par_edu_2&#39;</span><span class="p">,</span> <span class="s1">&#39;par_edu_f&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         ID  par_edu_2  par_edu_f
0         1        2.0        2.0
1         2        4.0        4.0
2         3        2.0        2.0
3         4        2.0        2.0
4         5        2.0        2.0
...     ...        ...        ...
16345  1630        4.0        4.0
16346  1631        1.0        1.0
16347  1632        2.0        2.0
16348  1633        2.0        2.0
16349  1634        1.0        1.0

[16350 rows x 3 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;par_edu_f&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;par_edu_f&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;아버지 학력&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 아버지 학력의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_f&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_f&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_f&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_edu_f&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/706663ddd788d4fc31b7ceeeeadbd7eebb9e71df2dd53dda144e178f59f00135.png" src="../_images/706663ddd788d4fc31b7ceeeeadbd7eebb9e71df2dd53dda144e178f59f00135.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.14261512401472337
</pre></div>
</div>
</div>
</div>
</section>
<section id="id24">
<h3>소득수준<a class="headerlink" href="#id24" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 가구의 월평균 소득수준(income_01)을 100으로 나눠서 income 변수를 생성</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;income_01&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span>

<span class="c1"># income_01과 income 변수만 프린트 (처음 5행)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;income_01&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   income_01  income
0      320.0     3.2
1      200.0     2.0
2      250.0     2.5
3      300.0     3.0
4      300.0     3.0
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;income&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;월평균 소득수준 (백만원)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 가구 월평균 소득수준의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/00ac3baff3ae0303128dd392c3403ce50af4941e11b868ad5e7ed1d40c286ee0.png" src="../_images/00ac3baff3ae0303128dd392c3403ce50af4941e11b868ad5e7ed1d40c286ee0.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.04088612456706029
</pre></div>
</div>
</div>
</div>
</section>
<section id="id25">
<h3>가정형편에 대한 지각<a class="headerlink" href="#id25" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>income_03: 가정형편에 대한 지각(학부모 대상 조사)</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.아주 어렵다</p></li>
<li><p>2.어려운 편이다</p></li>
<li><p>3.보통이다</p></li>
<li><p>4.잘사는 편이다</p></li>
<li><p>5.아주 잘 산다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;income_03&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;income_03&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;가정형편에 대한 지각&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 가정형편에 대한 지각의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income_03&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income_03&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income_03&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;income_03&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b1af27105bf1de3a28e9473c40c787365eeafde3f20a02db0b9456579807666e.png" src="../_images/b1af27105bf1de3a28e9473c40c787365eeafde3f20a02db0b9456579807666e.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.11431450349777178
</pre></div>
</div>
</div>
</div>
</section>
<section id="id26">
<h3>부모의 외국인 여부<a class="headerlink" href="#id26" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>par_foreigner_01: 부모의 외국인 여부</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.아버지</p></li>
<li><p>2.어머니</p></li>
<li><p>3.두 분 모두</p></li>
<li><p>4.두 분 모두 한국인(▶1차년도 없음)</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">])</span>

<span class="c1"># 부모의 외국인 여부에 따른 평균 성적 계산</span>
<span class="n">average_score_by_foreigner</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">)[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">observation_count_by_foreigner</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># 표로 제시</span>
<span class="n">result_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;부모의 외국인 여부&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;아버지&#39;</span><span class="p">,</span> <span class="s1">&#39;어머니&#39;</span><span class="p">,</span> <span class="s1">&#39;두 분 모두&#39;</span><span class="p">,</span> <span class="s1">&#39;두 분 모두 한국인(1차년도 없음)&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="n">observation_count_by_foreigner</span><span class="p">,</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="n">average_score_by_foreigner</span>
<span class="p">})</span>

<span class="n">result_table</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_table</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">,</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result_table</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">])</span>

<span class="c1"># 부모의 외국인 여부에 따른 데이터 분리</span>
<span class="n">group1</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">group2</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">group3</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">group4</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;par_foreigner_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>

<span class="c1"># t-검정 수행</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_ind</span><span class="p">(</span><span class="n">group1</span><span class="p">,</span> <span class="n">group2</span><span class="p">,</span> <span class="n">equal_var</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">statistical_significance</span> <span class="o">=</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;검정통계량:&quot;</span><span class="p">,</span> <span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성(5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">statistical_significance</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              부모의 외국인 여부     관측수     평균 성적
1.0                  아버지     429  3.279487
2.0                  어머니  11,764  3.182956
3.0               두 분 모두      37  3.311712
4.0  두 분 모두 한국인(1차년도 없음)       7  2.557143
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>검정통계량: 2.51928570735451
p-value: 0.012100533924424176
통계적 유의성(5% 유의수준): True
</pre></div>
</div>
</div>
</div>
</section>
<section id="id27">
<h3>건강상태<a class="headerlink" href="#id27" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>health_01: 주관적 건강인식</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.매우 건강하다</p></li>
<li><p>2.건강한 편이다</p></li>
<li><p>3.건강하지 못한 편이다</p></li>
<li><p>4.매우 건강하지 못하다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;health_01&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;health_01&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;주관적 건강인식&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 주관적 건강상태의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;health_01&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;health_01&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;health_01&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;health_01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/086d6ba180ef1606dd3cf4943cc23c4dba5bb57b0e53b645e68f8f6bc6ccf535.png" src="../_images/086d6ba180ef1606dd3cf4943cc23c4dba5bb57b0e53b645e68f8f6bc6ccf535.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: -0.12498589124315816
</pre></div>
</div>
</div>
</div>
</section>
<section id="id28">
<h3>삶의 만족도<a class="headerlink" href="#id28" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>life_satis_01: 나는 사는게 즐겁다</p></li>
<li><p>life_satis_02: 나는 걱정거리가 별로 없다</p></li>
<li><p>life_satis_03: 나는 내 삶이 행복하다고 생각한다</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 그렇지 않다</p></li>
<li><p>2.그렇지 않은 편이다</p></li>
<li><p>3.그런 편이다</p></li>
<li><p>4.매우 그렇다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 결측값을 제외하고 각 변수들의 평균 계산</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;life_satis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;life_satis_01&#39;</span><span class="p">,</span> 
                                       <span class="s1">&#39;life_satis_02&#39;</span><span class="p">,</span> 
                                       <span class="s1">&#39;life_satis_03&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># life_satis 변수를 프린트하여 확인</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;life_satis&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        4.000000
1        4.000000
2        2.000000
3        4.000000
4        4.000000
           ...   
16345    3.000000
16346    3.333333
16347    3.000000
16348    3.000000
16349    3.000000
Name: life_satis, Length: 16350, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;life_satis&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;life_satis&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;삶의 만족도&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 삶의 만족도의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;life_satis&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;life_satis&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;life_satis&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;life_satis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1c7eec495f26875b0241acd0e74013cc232fea9f0e42a159fad2a8e4c8295508.png" src="../_images/1c7eec495f26875b0241acd0e74013cc232fea9f0e42a159fad2a8e4c8295508.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.29909434343221114
</pre></div>
</div>
</div>
</div>
</section>
<section id="id29">
<h3>학업성적 만족도<a class="headerlink" href="#id29" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>satis_score_01: 성적에 대한 만족도</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.매우 만족한다</p></li>
<li><p>2.만족하는 편이다</p></li>
<li><p>3.만족하지 않는 편이다</p></li>
<li><p>4.전혀 만족하지 않는다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;satis_score_01&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;satis_score_01&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;성적에 대한 만족도&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 성적에 대한 만족도의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;satis_score_01&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;satis_score_01&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;satis_score_01&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;satis_score_01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/87c912d3a5c6d56e68937cfad133b3ca92a790ab9928847f7fa7f0f4d35496d3.png" src="../_images/87c912d3a5c6d56e68937cfad133b3ca92a790ab9928847f7fa7f0f4d35496d3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: -0.5012408709590255
</pre></div>
</div>
</div>
</div>
</section>
<section id="id30">
<h3>성취동기<a class="headerlink" href="#id30" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>achiev_01: 나는 내가 세운 학습목표를 이루기 위해 노력한다</p></li>
<li><p>achiev_02: 나는 내가 좋아하는 일을 잘하기 위해 끝까지 노력한다</p></li>
<li><p>achiev_03: 나는 내가 가치있다고 생각하는 일에 대해 최선을 다한다</p></li>
<li><p>achiev_04: 나는 나 스스로 학습목표를 결정한다</p></li>
<li><p>achiev_05: 나는 스스로 정한 목표를 향해 나아가는 것을 좋아한다</p></li>
<li><p>achiev_06: 내가 관심있는 일을 시도하는 것을 즐긴다</p></li>
<li><p>achiev_07: 나는 내 자신이 만족할 때까지 노력한다</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 그렇지 않다</p></li>
<li><p>2.그렇지 않은 편이다</p></li>
<li><p>3.그런 편이다</p></li>
<li><p>4.매우 그렇다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 결측값을 제외하고 각 변수들의 평균 계산</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;achiev&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;achiev_01&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;achiev_02&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;achiev_03&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;achiev_04&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;achiev_05&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;achiev_06&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;achiev_07&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;achiev&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        3.857143
1        4.000000
2        2.714286
3        2.714286
4        2.714286
           ...   
16345         NaN
16346         NaN
16347         NaN
16348         NaN
16349         NaN
Name: achiev, Length: 16350, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;achiev&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;achiev&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;성취동기&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 성취동기의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;achiev&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;achiev&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;achiev&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;achiev&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/392afa3a01d16c62623ad3cfc1bf5fbb419417092b8397537316a2639024dffe.png" src="../_images/392afa3a01d16c62623ad3cfc1bf5fbb419417092b8397537316a2639024dffe.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.41336726835915016
</pre></div>
</div>
</div>
</div>
</section>
<section id="id31">
<h3>희망 교육수준<a class="headerlink" href="#id31" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>edu_plan_01: 희망 교육수준</p></li>
</ul>
<blockquote>
<div><p>&lt;1~2차 년도&gt;</p>
<ul class="simple">
<li><p>1.초등학교 2.중학교 3.고등학교 4.대학교</p></li>
</ul>
<p>&lt;3~9차 년도&gt;</p>
<ul class="simple">
<li><p>1.초등학교 2.중학교 3.고등학교 4.대학교  5.대학원</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;edu_plan_01&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;edu_plan_01&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;희망 교육수준&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 희망 교육수준의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;edu_plan_01&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;edu_plan_01&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;edu_plan_01&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;edu_plan_01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7077b3bdac39972690064102e5bb4127c643ab20b7e745a2932d0705b9f50de6.png" src="../_images/7077b3bdac39972690064102e5bb4127c643ab20b7e745a2932d0705b9f50de6.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.19854584025021518
</pre></div>
</div>
</div>
</div>
</section>
<section id="id32">
<h3>가족의 지지<a class="headerlink" href="#id32" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>fa_support_01: 우리 가족은 서로 많이 도와주는 것 같다</p></li>
<li><p>fa_support_02: 우리 가족은 나를 잘 이해해주는 것 같다</p></li>
<li><p>fa_support_03: 우리 가족은 가지고 있는 것들을 서로 나누어 가지는 것 같다</p></li>
<li><p>fa_support_04: 우리 가족은 내가 힘들어할 때 내게 힘과 용기를 주는 것 같다</p></li>
<li><p>fa_support_05: 우리 가족은 내 생각이나 말을 잘 들어주는 것 같다</p></li>
<li><p>fa_support_06: 우리 가족은 나를 중요한 사람으로 생각하는 것 같다</p></li>
<li><p>fa_support_07: 우리 가족은 나에게 관심이 많은 것 같다</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 그렇지 않다</p></li>
<li><p>2.그렇지 않은 편이다</p></li>
<li><p>3.그런 편이다</p></li>
<li><p>4.매우 그렇다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 결측값을 제외하고 각 변수들의 평균 계산</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;fa_support&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;fa_support_01&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;fa_support_02&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;fa_support_03&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;fa_support_04&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;fa_support_05&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;fa_support_06&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;fa_support_07&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;fa_support&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        3.000000
1        4.000000
2        3.000000
3        3.714286
4        3.714286
           ...   
16345         NaN
16346         NaN
16347         NaN
16348         NaN
16349         NaN
Name: fa_support, Length: 16350, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;fa_support&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;fa_support&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;가족의 지지&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 가족 지지의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;fa_support&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;fa_support&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;fa_support&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;fa_support&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f3bbbd6a88fb2524b48eb5249ecbf01979aef0a2425d7fea2834dabb36c6b66e.png" src="../_images/f3bbbd6a88fb2524b48eb5249ecbf01979aef0a2425d7fea2834dabb36c6b66e.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.2497681078815359
</pre></div>
</div>
</div>
</div>
</section>
<section id="id33">
<h3>아버지에 대한 생각<a class="headerlink" href="#id33" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>pr_father_01: 아버지에 대한 생각</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 자랑스럽지 않다</p></li>
<li><p>2.자랑스럽지 않은 편이다</p></li>
<li><p>3.보통이다</p></li>
<li><p>4.자랑스러운 편이다</p></li>
<li><p>5.매우 자랑스럽다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_father_01&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;pr_father_01&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;아버지에 대한 생각&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 아버지에 대한 생각의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_father_01&#39;</span><span class="p">],</span> 
               <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_father_01&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_father_01&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_father_01&#39;</span>
                                <span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/343209927f82bbc826f2347e55842c0f03c5f2f500eac313da69a170d3409871.png" src="../_images/343209927f82bbc826f2347e55842c0f03c5f2f500eac313da69a170d3409871.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.17196485730924463
</pre></div>
</div>
</div>
</div>
</section>
<section id="id34">
<h3>어머니에 대한 생각<a class="headerlink" href="#id34" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>pr_mother_01: 어머니에 대한 생각</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 자랑스럽지 않다</p></li>
<li><p>2.자랑스럽지 않은 편이다</p></li>
<li><p>3.보통이다</p></li>
<li><p>4.자랑스러운 편이다</p></li>
<li><p>5.매우 자랑스럽다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;pr_mother_01&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;pr_mother_01&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;어머니에 대한 생각&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 어머니에 대한 생각의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_mother_01&#39;</span><span class="p">],</span> 
               <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_mother_01&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_mother_01&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;pr_mother_01&#39;</span>
                                <span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5217ed6e1680e148ebbcddc63ab6d162893d6b2f8af556c5045f4efd7e9343fd.png" src="../_images/5217ed6e1680e148ebbcddc63ab6d162893d6b2f8af556c5045f4efd7e9343fd.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.18142972877732105
</pre></div>
</div>
</div>
</div>
</section>
<section id="id35">
<h3>부모의 감독태도<a class="headerlink" href="#id35" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>parenting_a01: 부모님(보호자)은 내가 방과 후에 어디에 가는지 알고 계신다</p></li>
<li><p>parenting_a02: 부모님(보호자)은 내가 시간을 어떻게 보내는지 알고 계신다</p></li>
<li><p>parenting_a03: 부모님(보호자)은 내가 외출할 경우 언제 들어올지 알고 계신다</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 그렇지 않다</p></li>
<li><p>2.그렇지 않은 편이다</p></li>
<li><p>3.그런 편이다</p></li>
<li><p>4.매우 그렇다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 결측값을 제외하고 각 변수들의 평균 계산</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;parenting_a01&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;parenting_a02&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;parenting_a03&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_a&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        4.0
1        4.0
2        3.0
3        3.0
4        4.0
        ... 
16345    NaN
16346    NaN
16347    NaN
16348    NaN
16349    NaN
Name: parenting_a, Length: 16350, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;parenting_a&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;parenting_a&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;부모의 감독태도&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 부모의 감독태도의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_a&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_a&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_a&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_a&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/34e85705b9c16a58a5d053ad3beedad8e8e9fd0268c08aa16ca2031f4d298b15.png" src="../_images/34e85705b9c16a58a5d053ad3beedad8e8e9fd0268c08aa16ca2031f4d298b15.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.24694546543509963
</pre></div>
</div>
</div>
</div>
</section>
<section id="id36">
<h3>부모의 방임태도<a class="headerlink" href="#id36" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>parenting_b01: 부모님(보호자)은 나보다 바깥일을 더 중요하게 생각하시는 것 같다</p></li>
<li><p>parenting_b02: 부모님(보호자)은 나에 대해 관심이 없으셔서 칭찬을 하거나 혼내시는 일이 없다</p></li>
<li><p>parenting_b03: 부모님(보호자)은 내가 어떤 생각을 갖고 있는지에 대해 관심이 없으시다</p></li>
<li><p>parenting_b04: 부모님(보호자)은 내가 필요로 할 때 곁에 없으시다</p></li>
<li><p>parenting_b05: 부모님(보호자)은 내가 아플 때에도 귀찮아서 병원에 데려가지 않으신다</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 그렇지 않다</p></li>
<li><p>2.그렇지 않은 편이다</p></li>
<li><p>3.그런 편이다</p></li>
<li><p>4.매우 그렇다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 결측값을 제외하고 각 변수들의 평균 계산</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;parenting_b01&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;parenting_b02&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;parenting_b03&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;parenting_b04&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;parenting_b05&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_b&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        2.8
1        1.2
2        2.2
3        1.8
4        1.6
        ... 
16345    NaN
16346    NaN
16347    NaN
16348    NaN
16349    NaN
Name: parenting_b, Length: 16350, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;parenting_b&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;parenting_b&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;부모의 방임태도&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 부모의 방임태도의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_b&#39;</span><span class="p">],</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_b&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_b&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;parenting_b&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/85ad0ea26db04eee07fa0cf5cfbe933d2ced2fe433088ffea3ec0fe0fcc7d5a0.png" src="../_images/85ad0ea26db04eee07fa0cf5cfbe933d2ced2fe433088ffea3ec0fe0fcc7d5a0.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: -0.16030667688213643
</pre></div>
</div>
</div>
</div>
</section>
<section id="id37">
<h3>집단괴롭힘 피해경험<a class="headerlink" href="#id37" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>bullying_01: 다른 학생들로부터 따돌림을 당했다</p></li>
<li><p>bullying_02: 다른 학생들로부터 욕을 듣거나 심한 집적거림이나 또는 놀림을 당했다</p></li>
<li><p>bullying_03: 다른 학생들이 나를 고의로 어떤 일에 끼워주지 않거나 완전히 무시했다</p></li>
<li><p>bullying_04: 다른 학생들로부터 맞거나 발로 차이거나 위협을 당했다</p></li>
<li><p>bullying_05: 나에 대해 거짓소문을 퍼뜨려서 다른 친구들이 나를 싫어하게 되었다</p></li>
<li><p>bullying_06: 다른 학생들로부터 신체적 특징이나 외모에 대해 험한 욕설을 듣거나 놀림을 당했다</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.한 번도 없었다</p></li>
<li><p>2.한 달에 1-2번 있었다</p></li>
<li><p>3.한 주에 1-2번 있었다</p></li>
<li><p>4.거의 매일 있었다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 결측값을 제외하고 각 변수들의 평균 계산</span>
<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;bullying&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[[</span><span class="s1">&#39;bullying_01&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;bullying_02&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;bullying_03&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;bullying_04&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;bullying_05&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;bullying_06&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;bullying&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        1.000000
1        1.166667
2        1.666667
3        1.000000
4        1.000000
           ...   
16345         NaN
16346         NaN
16347         NaN
16348         NaN
16349         NaN
Name: bullying, Length: 16350, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;bullying&#39;</span><span class="p">])</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;bullying&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cleaned_panel_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;집단괴롭힘 피해경험&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;성적&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;학업성적과 집단괴롭힘 피해경험의 산점도&quot;</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;bullying&#39;</span><span class="p">],</span> 
               <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;bullying&#39;</span><span class="p">],</span> 
         <span class="n">p</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;bullying&#39;</span><span class="p">]),</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;bullying&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/65c0107853d4aabc71b3cbf71b390f7fb886211878b26c9e65485787627ed27c.png" src="../_images/65c0107853d4aabc71b3cbf71b390f7fb886211878b26c9e65485787627ed27c.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: -0.05286772325770605
</pre></div>
</div>
</div>
</div>
</section>
<section id="id38">
<h3>학교 내 도움을 주는 어른 유무<a class="headerlink" href="#id38" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># help_in_sc_01 별 평균 성적 계산</span>
<span class="n">help_in_sc_01_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span>
    <span class="s1">&#39;help_in_sc_01&#39;</span><span class="p">)[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">])</span>
<span class="n">help_in_sc_01_mean_score</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">help_in_sc_01_mean_score</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">help_in_sc_01_mean_score</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">help_in_sc_01_mean_score</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># 테스트를 위한 분석 모듈 임포트</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind</span>

<span class="c1"># 결측값 제거</span>
<span class="n">help_in_sc_01_filtered</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;help_in_sc_01&#39;</span><span class="p">,</span> <span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>

<span class="c1"># 테스트 수행</span>
<span class="n">help_in_sc_01_yes</span> <span class="o">=</span> <span class="n">help_in_sc_01_filtered</span><span class="p">[</span><span class="n">help_in_sc_01_filtered</span><span class="p">[</span>
    <span class="s1">&#39;help_in_sc_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">help_in_sc_01_no</span> <span class="o">=</span> <span class="n">help_in_sc_01_filtered</span><span class="p">[</span><span class="n">help_in_sc_01_filtered</span><span class="p">[</span>
    <span class="s1">&#39;help_in_sc_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_ind</span><span class="p">(</span><span class="n">help_in_sc_01_yes</span><span class="p">,</span> <span class="n">help_in_sc_01_no</span><span class="p">)</span>

<span class="c1"># 테스트 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;T-statistic:&quot;</span><span class="p">,</span> <span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성(5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   help_in_sc_01  count      mean
0            1.0  5,688  3.216002
1            2.0  6,549  3.160638
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>T-statistic: 4.188813442749567
p-value: 2.8238302970807963e-05
통계적 유의성(5% 유의수준): True
</pre></div>
</div>
</div>
</div>
</section>
<section id="id39">
<h3>학교 밖 도움을 주는 어른 유무<a class="headerlink" href="#id39" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># help_community_01 별 평균 성적 계산</span>
<span class="n">help_community_01_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span>
    <span class="s1">&#39;help_community_01&#39;</span><span class="p">)[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">])</span>
<span class="n">help_community_01_mean_score</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">help_community_01_mean_score</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">help_community_01_mean_score</span><span class="p">[</span>
    <span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">help_community_01_mean_score</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># 테스트를 위한 분석 모듈 임포트</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind</span>

<span class="c1"># 결측값 제거</span>
<span class="n">help_community_01_filtered</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;help_community_01&#39;</span><span class="p">,</span> <span class="s1">&#39;score_overall&#39;</span><span class="p">])</span>

<span class="c1"># 테스트 수행</span>
<span class="n">help_community_01_yes</span> <span class="o">=</span> <span class="n">help_community_01_filtered</span><span class="p">[</span>
    <span class="n">help_community_01_filtered</span><span class="p">[</span><span class="s1">&#39;help_community_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">help_community_01_no</span> <span class="o">=</span> <span class="n">help_community_01_filtered</span><span class="p">[</span>
    <span class="n">help_community_01_filtered</span><span class="p">[</span><span class="s1">&#39;help_community_01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_ind</span><span class="p">(</span><span class="n">help_community_01_yes</span><span class="p">,</span> <span class="n">help_community_01_no</span><span class="p">)</span>

<span class="c1"># 테스트 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;T-statistic:&quot;</span><span class="p">,</span> <span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성(5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   help_community_01  count      mean
0                1.0  4,107  3.313639
1                2.0  8,130  3.122081

T-statistic: 13.81843498284439
p-value: 4.1566473096887125e-43
통계적 유의성(5% 유의수준): True
</pre></div>
</div>
</div>
</div>
</section>
<section id="id40">
<h3>대학 비진학 이유<a class="headerlink" href="#id40" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># uni_a01_1에 해당하는 PID 추출</span>
<span class="n">group_1_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_2_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_3_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_4_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_5_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_6_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a01_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 score_overall 평균값 계산</span>
<span class="n">group_1_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_1_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_2_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_2_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_3_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_3_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_4_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_4_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_5_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_5_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_6_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_6_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 관측수 계산</span>
<span class="n">group_1_count</span> <span class="o">=</span> <span class="n">group_1_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_2_count</span> <span class="o">=</span> <span class="n">group_2_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_3_count</span> <span class="o">=</span> <span class="n">group_3_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_4_count</span> <span class="o">=</span> <span class="n">group_4_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_5_count</span> <span class="o">=</span> <span class="n">group_5_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_6_count</span> <span class="o">=</span> <span class="n">group_6_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># 결과를 표로 정리</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;uni_a01_1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1. 합격한 대학이 만족스럽지 않아서&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;2. 합격한 대학이 없어서&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;3. 가정형편이 어려워서&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;4. 부모님(또는 보호자)이 대학 진학에 반대 하셔서&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;5. 대학진학의 필요성을 느끼지 못해서&#39;</span><span class="p">,</span> <span class="s1">&#39;6. 기타&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_count</span><span class="p">,</span> <span class="n">group_2_count</span><span class="p">,</span> <span class="n">group_3_count</span><span class="p">,</span> 
            <span class="n">group_4_count</span><span class="p">,</span> <span class="n">group_5_count</span><span class="p">,</span> <span class="n">group_6_count</span><span class="p">],</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_mean_score</span><span class="p">,</span> <span class="n">group_2_mean_score</span><span class="p">,</span> <span class="n">group_3_mean_score</span><span class="p">,</span> 
              <span class="n">group_4_mean_score</span><span class="p">,</span> <span class="n">group_5_mean_score</span><span class="p">,</span> <span class="n">group_6_mean_score</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># 관측수에 콤마 삽입</span>
<span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="n">result_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uni_a01_1</th>
      <th>관측수</th>
      <th>평균 성적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1. 합격한 대학이 만족스럽지 않아서</td>
      <td>28</td>
      <td>3.475697</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2. 합격한 대학이 없어서</td>
      <td>26</td>
      <td>3.167593</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3. 가정형편이 어려워서</td>
      <td>34</td>
      <td>3.016888</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4. 부모님(또는 보호자)이 대학 진학에 반대 하셔서</td>
      <td>2</td>
      <td>2.727778</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5. 대학진학의 필요성을 느끼지 못해서</td>
      <td>218</td>
      <td>2.984997</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6. 기타</td>
      <td>66</td>
      <td>3.091497</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id41">
<h3>진학 대학 학제<a class="headerlink" href="#id41" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># uni_a02_1에 해당하는 PID 추출</span>
<span class="n">group_1_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_2_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 score_overall 평균값 계산</span>
<span class="n">group_1_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_1_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_2_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_2_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 관측수 계산</span>
<span class="n">group_1_count</span> <span class="o">=</span> <span class="n">group_1_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_2_count</span> <span class="o">=</span> <span class="n">group_2_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># 결과를 표로 정리</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;uni_a02_1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1. 2-3년제&#39;</span><span class="p">,</span> <span class="s1">&#39;2. 4년제 이상&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_count</span><span class="p">,</span> <span class="n">group_2_count</span><span class="p">],</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_mean_score</span><span class="p">,</span> <span class="n">group_2_mean_score</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># 관측수에 콤마 삽입</span>
<span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="n">result_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uni_a02_1</th>
      <th>관측수</th>
      <th>평균 성적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1. 2-3년제</td>
      <td>264</td>
      <td>3.010418</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2. 4년제 이상</td>
      <td>453</td>
      <td>3.358335</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id42">
<h3>대입 전형 종류<a class="headerlink" href="#id42" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># uni_ent_a02에 해당하는 PID 추출</span>
<span class="n">group_1_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_2_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 score_overall 평균값 계산</span>
<span class="n">group_1_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_1_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_2_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_2_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 관측수 계산</span>
<span class="n">group_1_count</span> <span class="o">=</span> <span class="n">group_1_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_2_count</span> <span class="o">=</span> <span class="n">group_2_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># 결과를 표로 정리</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;uni_ent_a02&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1. 일반전형&#39;</span><span class="p">,</span> <span class="s1">&#39;2. 특별전형&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_count</span><span class="p">,</span> <span class="n">group_2_count</span><span class="p">],</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_mean_score</span><span class="p">,</span> <span class="n">group_2_mean_score</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># 관측수에 콤마 삽입</span>
<span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="n">result_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uni_ent_a02</th>
      <th>관측수</th>
      <th>평균 성적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1. 일반전형</td>
      <td>554</td>
      <td>3.221656</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2. 특별전형</td>
      <td>163</td>
      <td>3.260184</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id43">
<h3>대입 특별전형 종류<a class="headerlink" href="#id43" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># uni_ent_a02_1에 해당하는 PID 추출</span>
<span class="n">group_1_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_2_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_3_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_4_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_5_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_6_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_7_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">7</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_8_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">8</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_9_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">9</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_10_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">10</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 score_overall 평균값 계산</span>
<span class="n">group_1_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_1_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_2_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_2_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_3_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_3_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_4_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_4_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_5_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_5_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_6_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_6_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_7_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_7_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_8_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_8_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_9_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_9_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_10_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_10_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 관측수 계산</span>
<span class="n">group_1_count</span> <span class="o">=</span> <span class="n">group_1_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_2_count</span> <span class="o">=</span> <span class="n">group_2_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_3_count</span> <span class="o">=</span> <span class="n">group_3_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_4_count</span> <span class="o">=</span> <span class="n">group_4_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_5_count</span> <span class="o">=</span> <span class="n">group_5_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_6_count</span> <span class="o">=</span> <span class="n">group_6_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_7_count</span> <span class="o">=</span> <span class="n">group_7_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_8_count</span> <span class="o">=</span> <span class="n">group_8_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_9_count</span> <span class="o">=</span> <span class="n">group_9_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_10_count</span> <span class="o">=</span> <span class="n">group_10_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># 결과를 표로 정리</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;uni_ent_a02_1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1. 다문화 가정자녀&#39;</span><span class="p">,</span> <span class="s1">&#39;2. 특성화고 졸업자&#39;</span><span class="p">,</span> <span class="s1">&#39;3. 성적우수자&#39;</span><span class="p">,</span> 
                      <span class="s1">&#39;4. 특기자(대회입상, 어학성적 등)&#39;</span><span class="p">,</span> <span class="s1">&#39;5. 국가보훈대상자&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;6. 기초생활수급자 및 차상위계층&#39;</span><span class="p">,</span> <span class="s1">&#39;7. 농어촌 학생&#39;</span><span class="p">,</span> 
                      <span class="s1">&#39;8. 재외국민(외국인 가정, 북한이탈주민 등)&#39;</span><span class="p">,</span> <span class="s1">&#39;9. 다자녀 및 한부모가정자녀&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;10. 기타&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_count</span><span class="p">,</span> <span class="n">group_2_count</span><span class="p">,</span> <span class="n">group_3_count</span><span class="p">,</span> <span class="n">group_4_count</span><span class="p">,</span>
            <span class="n">group_5_count</span><span class="p">,</span> <span class="n">group_6_count</span><span class="p">,</span> <span class="n">group_7_count</span><span class="p">,</span> <span class="n">group_8_count</span><span class="p">,</span> 
            <span class="n">group_9_count</span><span class="p">,</span> <span class="n">group_10_count</span><span class="p">],</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_mean_score</span><span class="p">,</span> <span class="n">group_2_mean_score</span><span class="p">,</span> <span class="n">group_3_mean_score</span><span class="p">,</span> 
              <span class="n">group_4_mean_score</span><span class="p">,</span> <span class="n">group_5_mean_score</span><span class="p">,</span> <span class="n">group_6_mean_score</span><span class="p">,</span> 
              <span class="n">group_7_mean_score</span><span class="p">,</span> <span class="n">group_8_mean_score</span><span class="p">,</span> <span class="n">group_9_mean_score</span><span class="p">,</span> 
              <span class="n">group_10_mean_score</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># 관측수에 콤마 삽입</span>
<span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="n">result_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uni_ent_a02_1</th>
      <th>관측수</th>
      <th>평균 성적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1. 다문화 가정자녀</td>
      <td>50</td>
      <td>3.434865</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2. 특성화고 졸업자</td>
      <td>33</td>
      <td>3.054943</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3. 성적우수자</td>
      <td>4</td>
      <td>3.441667</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4. 특기자(대회입상, 어학성적 등)</td>
      <td>11</td>
      <td>2.987205</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5. 국가보훈대상자</td>
      <td>0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6. 기초생활수급자 및 차상위계층</td>
      <td>21</td>
      <td>3.205585</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7. 농어촌 학생</td>
      <td>29</td>
      <td>3.399419</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8. 재외국민(외국인 가정, 북한이탈주민 등)</td>
      <td>0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9. 다자녀 및 한부모가정자녀</td>
      <td>5</td>
      <td>2.944186</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10. 기타</td>
      <td>10</td>
      <td>3.149444</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id44">
<h3>다문화가족정책지원경험 유무<a class="headerlink" href="#id44" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># support_a01에 해당하는 PID 추출</span>
<span class="n">group_1_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;support_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_2_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;support_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 score_overall 평균값 계산</span>
<span class="n">group_1_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_1_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_2_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_2_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 관측수 계산</span>
<span class="n">group_1_count</span> <span class="o">=</span> <span class="n">group_1_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_2_count</span> <span class="o">=</span> <span class="n">group_2_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># 결과를 표로 정리</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;support_a01&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1. 예&#39;</span><span class="p">,</span> <span class="s1">&#39;2. 아니오&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_count</span><span class="p">,</span> <span class="n">group_2_count</span><span class="p">],</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_mean_score</span><span class="p">,</span> <span class="n">group_2_mean_score</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># 관측수에 콤마 삽입</span>
<span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;support_a01&#39;</span><span class="p">])</span>

<span class="c1"># t-검정 수행</span>
<span class="n">group_1_scores</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span>
    <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;support_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">group_2_scores</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span>
    <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;support_a01&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>

<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">group_1_scores</span><span class="p">,</span> <span class="n">group_2_scores</span><span class="p">)</span>

<span class="c1"># 테스트 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;검정통계량 (t-statistic):&quot;</span><span class="p">,</span> <span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성 (5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  support_a01    관측수     평균 성적
0        1. 예  3,608  3.191554
1      2. 아니오  6,994  3.180563

검정통계량 (t-statistic): 12.052486775527816
p-value: 3.102503592385564e-33
통계적 유의성 (5% 유의수준): True
</pre></div>
</div>
</div>
</div>
</section>
<section id="id45">
<h3>방과 후 수업료 지원 유무<a class="headerlink" href="#id45" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># support_a02_1에 해당하는 PID 추출</span>
<span class="n">group_1_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;support_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>
<span class="n">group_2_pids</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span><span class="s1">&#39;support_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;PID&#39;</span><span class="p">]</span>

<span class="c1"># 각 그룹에 대해 score_overall 평균값 계산</span>
<span class="n">group_1_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_1_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">group_2_mean_score</span> <span class="o">=</span> <span class="n">panel_data</span><span class="p">[</span><span class="n">panel_data</span><span class="p">[</span>
    <span class="s1">&#39;PID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group_2_pids</span><span class="p">)][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># 관측수 계산</span>
<span class="n">group_1_count</span> <span class="o">=</span> <span class="n">group_1_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">group_2_count</span> <span class="o">=</span> <span class="n">group_2_pids</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># 결과를 표로 정리</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;support_a02_1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1. 있음&#39;</span><span class="p">,</span> <span class="s1">&#39;2. 없음&#39;</span><span class="p">],</span>
    <span class="s1">&#39;관측수&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_count</span><span class="p">,</span> <span class="n">group_2_count</span><span class="p">],</span>
    <span class="s1">&#39;평균 성적&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">group_1_mean_score</span><span class="p">,</span> <span class="n">group_2_mean_score</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># 관측수에 콤마 삽입</span>
<span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;관측수&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="c1"># 결측값 제거</span>
<span class="n">cleaned_panel_data</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">,</span> <span class="s1">&#39;support_a02_1&#39;</span><span class="p">])</span>

<span class="c1"># t-검정 수행</span>
<span class="n">group_1_scores</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span>
    <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;support_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>
<span class="n">group_2_scores</span> <span class="o">=</span> <span class="n">cleaned_panel_data</span><span class="p">[</span>
    <span class="n">cleaned_panel_data</span><span class="p">[</span><span class="s1">&#39;support_a02_1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span>

<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">group_1_scores</span><span class="p">,</span> <span class="n">group_2_scores</span><span class="p">)</span>

<span class="c1"># 테스트 결과 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;검정통계량 (t-statistic):&quot;</span><span class="p">,</span> <span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-value:&quot;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;통계적 유의성 (5% 유의수준):&quot;</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  support_a02_1    관측수     평균 성적
0         1. 있음  1,082  3.174925
1         2. 없음  1,925  3.199660

검정통계량 (t-statistic): -0.1429744257964884
p-value: 0.8863199646463198
통계적 유의성 (5% 유의수준): False
</pre></div>
</div>
</div>
</div>
</section>
<section id="id46">
<h3>대학 만족도<a class="headerlink" href="#id46" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>uni_satis_a01: 나는 대학생활에 만족하고 있다</p></li>
<li><p>uni_satis_a02: 나는 내가 이 학교를 선택한 것에 대해서 만족한다</p></li>
<li><p>uni_satis_a03: 나는 최근에 대학교육의 가치에 대해서 회의를 느끼고 있다</p></li>
<li><p>uni_satis_a04: 나는 대학생활에 적응이 힘들어 휴학이나 자퇴에 대해 많이 생각한다</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>1.전혀 그렇지 않다</p></li>
<li><p>2.그렇지 않은 편이다</p></li>
<li><p>3.보통이다</p></li>
<li><p>4.그런 편이다</p></li>
<li><p>5.매우 그렇다</p></li>
</ul>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># uni_satis_a01이 NaN이 아닌 경우만 추출하여 데이터프레임 생성</span>
<span class="n">uni_satis_a01_df</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;uni_satis_a01&#39;</span><span class="p">])[[</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="s1">&#39;uni_satis_a01&#39;</span><span class="p">]]</span>

<span class="c1"># 전체 WAVE에 대한 성적(score_overall) 평균값 계산 및 추가</span>
<span class="n">mean_score_overall</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;PID&#39;</span><span class="p">)[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">uni_satis_a01_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">mean_score_overall</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">result_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;score_overall&#39;</span><span class="p">:</span> <span class="s1">&#39;평균 성적&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a01&#39;</span><span class="p">],</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">coefficients</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a01&#39;</span><span class="p">],</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">poly</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">coefficients</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a01&#39;</span><span class="p">],</span> <span class="n">poly</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a01&#39;</span><span class="p">]),</span> 
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="c1"># 레전드 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># 정수값만 표시</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="c1"># 축 라벨 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;대학교육에 대한 만족감&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">)</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>

<span class="c1"># 그래프 출력</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 결과 데이터프레임 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: 0.12611492708940172
</pre></div>
</div>
<img alt="../_images/3ec76483e48dcf0e40928f97fc112a5eef8348cb304eb786e0fe6a4d410cbfa6.png" src="../_images/3ec76483e48dcf0e40928f97fc112a5eef8348cb304eb786e0fe6a4d410cbfa6.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        PID  uni_satis_a01     평균 성적
0    100003            5.0  3.172222
1    100008            5.0  3.333333
2    100012            2.0  3.222222
3    100016            3.0  3.266667
4    100028            4.0  3.600000
..      ...            ...       ...
712  107534            2.0  3.155556
713  107538            4.0  3.111111
714  107547            4.0  3.000000
715  107554            4.0  3.311111
716  107560            4.0  2.711111

[717 rows x 3 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># uni_satis_a03이 NaN이 아닌 경우만 추출하여 데이터프레임 생성</span>
<span class="n">uni_satis_a03_df</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;uni_satis_a03&#39;</span><span class="p">])[[</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="s1">&#39;uni_satis_a03&#39;</span><span class="p">]]</span>

<span class="c1"># 전체 WAVE에 대한 성적(score_overall) 평균값 계산 및 추가</span>
<span class="n">mean_score_overall</span> <span class="o">=</span> <span class="n">panel_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;PID&#39;</span><span class="p">)[</span><span class="s1">&#39;score_overall&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">result_df</span> <span class="o">=</span> <span class="n">uni_satis_a03_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">mean_score_overall</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">result_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;score_overall&#39;</span><span class="p">:</span> <span class="s1">&#39;평균 성적&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># 산점도 그리기</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a03&#39;</span><span class="p">],</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># 추세선 추가</span>
<span class="n">coefficients</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a03&#39;</span><span class="p">],</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">poly</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">coefficients</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a03&#39;</span><span class="p">],</span> <span class="n">poly</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a03&#39;</span><span class="p">]),</span> 
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;추세선&#39;</span><span class="p">)</span>

<span class="c1"># 레전드 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># 정수값만 표시</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="c1"># 축 라벨 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;대학교육에 대한 회의감&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">)</span>

<span class="c1"># 상관계수 계산</span>
<span class="n">correlation</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;uni_satis_a03&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;평균 성적&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;상관계수:&quot;</span><span class="p">,</span> <span class="n">correlation</span><span class="p">)</span>

<span class="c1"># 그래프 출력</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 결과 데이터프레임 출력</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>상관계수: -0.14963089519108175
</pre></div>
</div>
<img alt="../_images/4b89713c622eb2edd0100f35f1ac899bc35457682fb7a01ff166bd9ace649189.png" src="../_images/4b89713c622eb2edd0100f35f1ac899bc35457682fb7a01ff166bd9ace649189.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        PID  uni_satis_a03     평균 성적
0    100003            3.0  3.172222
1    100008            1.0  3.333333
2    100012            4.0  3.222222
3    100016            3.0  3.266667
4    100028            4.0  3.600000
..      ...            ...       ...
712  107534            3.0  3.155556
713  107538            4.0  3.111111
714  107547            5.0  3.000000
715  107554            4.0  3.311111
716  107560            4.0  2.711111

[717 rows x 3 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># panel_data 저장</span>
<span class="n">panel_data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;../Data/panel_data.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="011_%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84_%ED%95%99%EC%97%85%EC%84%B1%EC%B7%A8%EB%8F%84_%EC%9A%94%EC%9D%B8_%ED%83%90%EC%83%89.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">1.1 다문화청소년 학업성취도 요인 탐색</p>
      </div>
    </a>
    <a class="right-next"
       href="013_%ED%8C%A8%EB%84%90_%ED%9A%8C%EA%B7%80%EB%B6%84%EC%84%9D.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">1.3 패널 회귀분석</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1 데이터세트 합치기 예시</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">예시 데이터세트</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">데이터세트 병합 파이썬 함수</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#long-vs-wide">패널 데이터: Long vs. Wide</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">2 다문화청소년 패널 데이터 만들기</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">데이터 다운로딩</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">패널 데이터 만들기</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">데이터 유형 확인 및 변경</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">결측값 처리</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">3 개별 변수 분석</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">연차별 평균 국어 성적</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">종합 성적 변수</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">6개 성적 그래프</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">과목별 성적 상관계수 행렬</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">연차별 성적 상관계수 행렬</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">4 설명변수 탐색적 분석</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">대학 진학 그룹과 비진학 그룹</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vs">남학생 vs. 여학생</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">거주지역</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">지역규모</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">어머니 연령</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">아버지 연령</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">어머니 학력</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">아버지 학력</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">소득수준</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">가정형편에 대한 지각</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">부모의 외국인 여부</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">건강상태</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">삶의 만족도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">학업성적 만족도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">성취동기</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">희망 교육수준</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">가족의 지지</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">아버지에 대한 생각</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">어머니에 대한 생각</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">부모의 감독태도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">부모의 방임태도</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">집단괴롭힘 피해경험</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">학교 내 도움을 주는 어른 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">학교 밖 도움을 주는 어른 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">대학 비진학 이유</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">진학 대학 학제</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">대입 전형 종류</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">대입 특별전형 종류</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">다문화가족정책지원경험 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">방과 후 수업료 지원 유무</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">대학 만족도</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By 최필선 민인식
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>