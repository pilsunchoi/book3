
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>3.2 청년세대 지니계수 추이 &#8212; 데이터 기반 사회과학 분석</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/032_청년세대_지니계수_추이';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4 순자산 분포 추정" href="040_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95.html" />
    <link rel="prev" title="3.1 가계금융조사 지니계수 계산" href="031_%EA%B0%80%EA%B3%84%EA%B8%88%EC%9C%B5%EC%A1%B0%EC%82%AC_%EC%A7%80%EB%8B%88%EA%B3%84%EC%88%98_%EA%B3%84%EC%82%B0.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="000_%EC%84%9C%EB%AC%B8.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="데이터 기반 사회과학 분석 - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="데이터 기반 사회과학 분석 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="000_%EC%84%9C%EB%AC%B8.html">
                    시작하며
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="010_%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84_%ED%95%99%EC%97%85%EC%84%B1%EC%B7%A8%EB%8F%84_%EB%B6%84%EC%84%9D.html">1 다문화청소년 학업성취도 분석</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="011_%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84_%ED%95%99%EC%97%85%EC%84%B1%EC%B7%A8%EB%8F%84_%EC%9A%94%EC%9D%B8_%ED%83%90%EC%83%89.html">1.1 다문화청소년 학업성취도 요인 탐색</a></li>
<li class="toctree-l2"><a class="reference internal" href="012_%EB%8B%A4%EB%AC%B8%ED%99%94%EC%B2%AD%EC%86%8C%EB%85%84%ED%8C%A8%EB%84%90_%EB%8D%B0%EC%9D%B4%ED%84%B0.html">1.2 다문화청소년패널 데이터</a></li>
<li class="toctree-l2"><a class="reference internal" href="013_%ED%8C%A8%EB%84%90_%ED%9A%8C%EA%B7%80%EB%B6%84%EC%84%9D.html">1.3 패널 회귀분석</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="020_%EB%8B%A4%EB%AC%B8%ED%99%94_%EB%B0%B0%EA%B2%BD%EA%B3%BC_%ED%95%99%EC%97%85%EC%84%B1%EC%A0%81.html">2 다문화 배경과 학업성적</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="021_%EB%8B%A4%EB%AC%B8%ED%99%94_%EB%B0%B0%EA%B2%BD%EC%9D%B4_%ED%95%99%EC%97%85%EC%84%B1%EC%A0%81%EC%97%90_%EB%AF%B8%EC%B9%98%EB%8A%94_%EC%98%81%ED%96%A5.html">2.1 다문화 배경이 학업성적에 미치는 영향</a></li>
<li class="toctree-l2"><a class="reference internal" href="022_%EC%95%84%EC%B2%AD%ED%8C%A8%EB%84%90%EB%B6%84%EC%84%9D%282010_e4%29.html">2.2 아청패널분석(2010 초4 패널)</a></li>
<li class="toctree-l2"><a class="reference internal" href="023_%EC%95%84%EC%B2%AD%ED%8C%A8%EB%84%90%EB%B6%84%EC%84%9D%282010_%EC%A2%85%ED%95%A9%29.html">2.3 아청패널분석(2010 종합)</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="030_%ED%95%9C%EA%B5%AD_%EC%B2%AD%EB%85%84%EC%84%B8%EB%8C%80_%EC%9E%90%EC%82%B0%EB%B6%88%ED%8F%89%EB%93%B1_%EC%B6%94%EC%A0%95.html">3 한국 청년세대 자산불평등 추정</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="031_%EA%B0%80%EA%B3%84%EA%B8%88%EC%9C%B5%EC%A1%B0%EC%82%AC_%EC%A7%80%EB%8B%88%EA%B3%84%EC%88%98_%EA%B3%84%EC%82%B0.html">3.1 가계금융조사 지니계수 계산</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">3.2 청년세대 지니계수 추이</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="040_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95.html">4 순자산 분포 추정</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="041_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95_Johnson_SU_%EB%B6%84%ED%8F%AC_%ED%99%9C%EC%9A%A9.html">4.1 순자산 분포 추정: Johnson SU 분포 활용</a></li>
<li class="toctree-l2"><a class="reference internal" href="042_SU_Asset_Distribution.html">4.2 SU Asset Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="043_MLE%EC%97%90%EC%84%9C_%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0_%EC%A0%9C%EC%95%BD%EC%A1%B0%EA%B1%B4_%EC%B2%98%EB%A6%AC%EB%B2%95.html">4.3 MLE에서 파라미터 제약조건 처리법</a></li>
<li class="toctree-l2"><a class="reference internal" href="044_MLE%EC%97%90%EC%84%9C_%EC%9E%90%EC%BD%94%EB%B9%84%EC%95%88_%EB%B0%8F_%ED%97%A4%EC%8B%9C%EC%95%88_%ED%99%9C%EC%9A%A9.html">4.4 MLE에서 헤시안 활용</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="050_%EB%82%98%EC%9D%B4%EB%B3%84_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95.html">5 나이별 순자산 분포 추정</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="051_%EB%82%98%EC%9D%B4%EB%B3%84_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95_SU_%EB%B6%84%ED%8F%AC_%ED%99%9C%EC%9A%A9.html">5.1 나이별 순자산 분포 추정: SU 분포 활용</a></li>
<li class="toctree-l2"><a class="reference internal" href="052_Bivariate_SU.html">5.2 Bivariate SU Distribution</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pilsunchoi/book3" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pilsunchoi/book3/issues/new?title=Issue%20on%20page%20%2Fnotebooks/032_청년세대_지니계수_추이.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/032_청년세대_지니계수_추이.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>3.2 청년세대 지니계수 추이</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1 필요 함수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">2 데이터</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">데이터 다운로딩</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">3 순자산</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">수도권</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">해석</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">4 가구소득</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">5 처분가능소득</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>3.2 청년세대 지니계수 추이<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="#1-%ED%95%84%EC%9A%94-%ED%95%A8%EC%88%98"><span class="xref myst">1 필요 함수</span></a></p></li>
<li><p><a class="reference internal" href="#2-%EB%8D%B0%EC%9D%B4%ED%84%B0"><span class="xref myst">2 데이터</span></a></p></li>
<li><p><a class="reference internal" href="#3-%EC%88%9C%EC%9E%90%EC%82%B0"><span class="xref myst">3 순자산</span></a></p></li>
<li><p><a class="reference internal" href="#4-%EA%B0%80%EA%B5%AC%EC%86%8C%EB%93%9D"><span class="xref myst">4 가구소득</span></a></p></li>
<li><p><a class="reference internal" href="#5-%EC%B2%98%EB%B6%84%EA%B0%80%EB%8A%A5%EC%86%8C%EB%93%9D"><span class="xref myst">5 처분가능소득</span></a></p></li>
</ul>
<section id="id2">
<h2>1 필요 함수<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">scipy.optimize</span> <span class="k">as</span> <span class="nn">opt</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">moment</span>

<span class="k">def</span> <span class="nf">weighted_mean</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">weights</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">weights</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">weighted_moment</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">weighted_mean</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span> <span class="o">*</span> <span class="p">(</span><span class="n">data</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">**</span> <span class="n">order</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">weighted_std</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">):</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">weighted_mean</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
    <span class="n">variance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span> <span class="o">*</span> <span class="p">((</span><span class="n">data</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">variance</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">weighted_skewness</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">):</span>
    <span class="n">m2</span> <span class="o">=</span> <span class="n">weighted_moment</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">m3</span> <span class="o">=</span> <span class="n">weighted_moment</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">skewness</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">))</span> <span class="o">*</span> <span class="n">m3</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">m2</span> <span class="o">**</span> <span class="mf">1.5</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">skewness</span>

<span class="k">def</span> <span class="nf">weighted_kurtosis</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">):</span>
    <span class="n">m2</span> <span class="o">=</span> <span class="n">weighted_moment</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">m4</span> <span class="o">=</span> <span class="n">weighted_moment</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">kurtosis</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span> <span class="o">*</span> <span class="n">m4</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">m2</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">kurtosis</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">weighted_gini</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
    <span class="c1"># 데이터를 값 순서대로 정렬</span>
    <span class="n">sorted_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">])</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span>  <span class="c1"># x 기준 오름차순으로 정렬</span>
    <span class="n">sorted_x</span><span class="p">,</span> <span class="n">sorted_w</span> <span class="o">=</span> <span class="n">sorted_data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">sorted_data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
    
    <span class="c1"># 총 가중치 및 누적 가중치 초기화</span>
    <span class="n">total_weight</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">sorted_w</span><span class="p">)</span>
    <span class="n">sorted_w</span> <span class="o">=</span> <span class="n">sorted_w</span><span class="o">/</span><span class="n">total_weight</span>
    <span class="n">cumulative_weight</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">sorted_w</span><span class="p">)</span>
     
    <span class="c1"># 지니 계수 계산 항목</span>
    <span class="n">sorted_x_dev</span> <span class="o">=</span> <span class="n">sorted_x</span> <span class="o">-</span> <span class="n">weighted_mean</span><span class="p">(</span><span class="n">sorted_x</span><span class="p">,</span> <span class="n">sorted_w</span><span class="p">)</span>
    
    <span class="n">f_hat</span> <span class="o">=</span> <span class="n">cumulative_weight</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>    
    <span class="c1"># f_hat 업데이트</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">f_hat</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>            
            <span class="n">f_hat</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sorted_w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">f_hat</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cumulative_weight</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">sorted_w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">f_hat_dev</span> <span class="o">=</span> <span class="n">f_hat</span> <span class="o">-</span> <span class="n">f_hat</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">sorted_w</span><span class="o">*</span><span class="n">sorted_x_dev</span><span class="o">*</span><span class="n">f_hat_dev</span><span class="o">/</span><span class="p">(</span><span class="n">weighted_mean</span><span class="p">(</span><span class="n">sorted_x</span><span class="p">,</span> <span class="n">sorted_w</span><span class="p">))</span>
    <span class="n">weighted_gini</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
   
    <span class="k">return</span> <span class="n">weighted_gini</span> 
</pre></div>
</div>
</div>
</div>
</section>
<section id="id3">
<h2>2 데이터<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>한국: <strong>가계금융복지조사</strong>(Survey of Household Finances and Living Conditions)</p>
<ul>
<li><p><a class="reference external" href="https://kostat.go.kr/board.es?mid=a10301040300&amp;amp;bid=215&amp;amp;act=view&amp;amp;list_no=422053">2022년 조사결과</a>, <a class="reference external" href="https://www.narastat.kr/metasvc/svc/SvcMetaDcDtaPopup.do?confmNo=930001">통계설명자료</a>, <a class="reference external" href="https://mdis.kostat.go.kr/dwnlSvc/ofrSurvSearch.do?curMenuNo=UI_POR_P9240">마이크로데이터</a></p></li>
</ul>
</li>
<li><p>미국: <a class="reference external" href="https://www.federalreserve.gov/econres/scfindex.htm">Survey of Consumer Finances (SCF)</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">scipy.optimize</span> <span class="k">as</span> <span class="nn">opt</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<section id="id4">
<h3>데이터 다운로딩<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<blockquote>
<div><p>원시(raw) 데이터는 <a href="https://mdis.kostat.go.kr/dwnlSvc/ofrSurvSearch.do?curMenuNo=UI_POR_P9240">MDIS</a>(MicroData Integrated Service)에서 “소득·소비·자산 &gt; 가계금융조사”를 선택해 필요한 연도의 조사 자료를 다운로드 받는다.</p>
<p>다음 명령문은 다운로드 받은 2010년부터 2023년까지의 CSV 파일을 불러들이는 작업이다.</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 파일 경로와 이름의 패턴 설정</span>
<span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;../Data/SHF/</span><span class="si">{year}</span><span class="s2">.csv&quot;</span>

<span class="c1"># 데이터를 저장할 변수 초기화</span>
<span class="n">dfs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># 2010부터 2023까지의 파일 로드</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">2024</span><span class="p">):</span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="n">file_pattern</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">year</span><span class="p">)</span>
    <span class="n">df_name</span> <span class="o">=</span> <span class="s2">&quot;df_</span><span class="si">{year}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">year</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;EUC-KR&#39;</span><span class="p">)</span>
    <span class="n">dfs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">df_name</span><span class="p">,</span> <span class="n">df</span><span class="p">))</span>

<span class="c1"># 결과를 변수에 저장</span>
<span class="k">for</span> <span class="n">df_name</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">dfs</span><span class="p">:</span>
    <span class="nb">globals</span><span class="p">()[</span><span class="n">df_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_2023</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>조사연도</th>
      <th>MD제공용_가구고유번호</th>
      <th>가중값</th>
      <th>수도권여부</th>
      <th>가구주_성별코드</th>
      <th>가구원수</th>
      <th>노인가구여부</th>
      <th>조손가구여부</th>
      <th>한부모가구여부</th>
      <th>다문화가구여부(2012년~)</th>
      <th>...</th>
      <th>원리금상환_가계지출감소항목코드</th>
      <th>부채상환가능시기코드</th>
      <th>가구주_은퇴여부</th>
      <th>가구주_미은퇴_은퇴연령</th>
      <th>가구주_미은퇴_최소생활비</th>
      <th>가구주_미은퇴_적정생활비</th>
      <th>가구주_미은퇴_노후준비상황코드</th>
      <th>가구주_은퇴_은퇴연령</th>
      <th>가구주_은퇴_적정생활비충당여부</th>
      <th>가구주은퇴_생활비재원마련코드(2014년~)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023</td>
      <td>10000162</td>
      <td>1077.906572</td>
      <td>G1</td>
      <td>2</td>
      <td>1</td>
      <td>G1</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>77.0</td>
      <td>100</td>
      <td>200</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2023</td>
      <td>10000182</td>
      <td>1086.438541</td>
      <td>G1</td>
      <td>1</td>
      <td>2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>70.0</td>
      <td>200</td>
      <td>200</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2023</td>
      <td>10000192</td>
      <td>3626.894382</td>
      <td>G1</td>
      <td>2</td>
      <td>1</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>70.0</td>
      <td>300</td>
      <td>400</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023</td>
      <td>10000212</td>
      <td>758.167174</td>
      <td>G2</td>
      <td>2</td>
      <td>1</td>
      <td>G1</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>75.0</td>
      <td>150</td>
      <td>200</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023</td>
      <td>10000222</td>
      <td>1404.353475</td>
      <td>G2</td>
      <td>1</td>
      <td>1</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>1</td>
      <td>65.0</td>
      <td>200</td>
      <td>200</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>18089</th>
      <td>2023</td>
      <td>991300362</td>
      <td>545.333267</td>
      <td>G2</td>
      <td>1</td>
      <td>3</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>65.0</td>
      <td>100</td>
      <td>150</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18090</th>
      <td>2023</td>
      <td>991900211</td>
      <td>465.444170</td>
      <td>G2</td>
      <td>1</td>
      <td>4</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>65.0</td>
      <td>200</td>
      <td>300</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18091</th>
      <td>2023</td>
      <td>991900221</td>
      <td>648.366811</td>
      <td>G2</td>
      <td>1</td>
      <td>3</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1</td>
      <td>60.0</td>
      <td>300</td>
      <td>500</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18092</th>
      <td>2023</td>
      <td>991900301</td>
      <td>628.892098</td>
      <td>G2</td>
      <td>1</td>
      <td>4</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>62.0</td>
      <td>300</td>
      <td>600</td>
      <td>2.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18093</th>
      <td>2023</td>
      <td>991900321</td>
      <td>624.620427</td>
      <td>G2</td>
      <td>1</td>
      <td>2</td>
      <td>G1</td>
      <td>G2</td>
      <td>G2</td>
      <td>G2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>72.0</td>
      <td>100</td>
      <td>200</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>18094 rows × 160 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="id5">
<h2>3 순자산<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 연도 지정</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;2011&#39;</span><span class="p">,</span> <span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">,</span> 
         <span class="s1">&#39;2017&#39;</span><span class="p">,</span> <span class="s1">&#39;2018&#39;</span><span class="p">,</span> <span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="s1">&#39;2020&#39;</span><span class="p">,</span> <span class="s1">&#39;2021&#39;</span><span class="p">,</span> <span class="s1">&#39;2022&#39;</span><span class="p">,</span> <span class="s1">&#39;2023&#39;</span><span class="p">]</span>

<span class="c1"># 결과를 저장할 딕셔너리 초기화</span>
<span class="n">networth_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">age_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">weight_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># 각 연도별로 파일 읽기 및 데이터 추출</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="c1"># 해당 연도에 대한 df 지정</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s1">&#39;df_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    
    <span class="c1"># 순자산, 가구주_만연령, 가중값 추출 및 저장</span>
    <span class="n">networth_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;networth_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;순자산&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span> <span class="c1"># 백만 원</span>
    <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가구주_만연령&#39;</span><span class="p">]</span>
    <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가중값&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 연령대 정의</span>
<span class="n">age_ranges</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;전체&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="s1">&#39;2030&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">),</span> <span class="s1">&#39;청년&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">34</span><span class="p">)}</span>

<span class="c1"># df_stats_age 초기화 (패널 데이터 형식)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">years</span><span class="p">,</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">keys</span><span class="p">()],</span> 
                                   <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;age_range&#39;</span><span class="p">])</span>
<span class="n">df_stats_age</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="s1">&#39;gini&#39;</span><span class="p">])</span>

<span class="c1"># 각 연도 및 연령대별로 계산</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">networth_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;networth_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">weight</span> <span class="o">/</span> <span class="n">weight</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">age_range</span><span class="p">,</span> <span class="p">(</span><span class="n">age_min</span><span class="p">,</span> <span class="n">age_max</span><span class="p">)</span> <span class="ow">in</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&gt;=</span> <span class="n">age_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&lt;=</span> <span class="n">age_max</span><span class="p">)</span>
        <span class="n">x1_filtered</span> <span class="o">=</span> <span class="n">x1</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        <span class="n">w_filtered</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        
        <span class="n">mean</span> <span class="o">=</span> <span class="n">weighted_mean</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">std</span> <span class="o">=</span> <span class="n">weighted_std</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">gini</span> <span class="o">=</span> <span class="n">weighted_gini</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;gini&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gini</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 순자산 통계량&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_stats_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 순자산 통계량
                      mean         std      gini
year age_range                                  
2010 전체         230.657574  477.260124  0.643432
     2030       138.121877  208.577683   0.58305
     청년          102.62714  155.319866  0.582989
2011 전체         245.600517  486.435337   0.63248
     2030       142.660868  208.387948  0.572788
     청년         107.025943   175.02523  0.594976
2012 전체         268.747221  496.917984  0.624853
     2030       165.703763  214.453961  0.544956
     청년          126.53076  157.024707  0.537656
2013 전체         268.305843  485.620848  0.612701
     2030       160.954082  200.140663  0.525907
     청년         121.322938  134.031385  0.519798
2014 전체          274.88073  473.921152  0.598822
     2030       166.795092   185.30722  0.509188
     청년         126.564644  135.800865  0.504588
2015 전체         284.291525  472.253402  0.595184
     2030       177.571498  228.411257  0.515971
     청년         137.939052  227.898565  0.526167
2016 전체         299.183042  490.441642  0.591519
     2030       184.845832  237.811964  0.519521
     청년         146.122867  254.057072  0.553714
2017 전체         315.721515  486.815129  0.588894
     2030       198.270406  241.329378  0.537534
     청년         142.102422  180.443938  0.569255
2018 전체         343.676078  529.456916  0.593258
     2030       211.440052   275.11472  0.552074
     청년         142.561012  191.325022  0.576715
2019 전체         352.805964  547.947409  0.602468
     2030       215.237951  266.444296  0.554623
     청년         142.215704  178.386264  0.580352
2020 전체         362.865907  579.779177  0.608496
     2030       227.327335  300.550625   0.56659
     청년         145.174249   190.26865  0.586831
2021 전체         414.520142  640.722869  0.607872
     2030       256.385985  335.652197  0.570448
     청년         157.034003   272.30611   0.59536
2022 전체         456.023278  695.765996  0.609923
     2030       261.398821  370.420657   0.59698
     청년         168.632989  324.965866  0.626157
2023 전체         435.403837  726.336736  0.609317
     2030       236.778655  310.421897  0.581932
     청년         150.637432  202.106894  0.576667
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gini 값만 추출하여 재구조화</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_stats_age</span><span class="p">[</span><span class="s1">&#39;gini&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;age_range&#39;</span><span class="p">)</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_gini_age</span><span class="p">[[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 순자산 지니계수&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_gini_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 순자산 지니계수
age_range        전체      2030        청년
year                                   
2010       0.643432   0.58305  0.582989
2011        0.63248  0.572788  0.594976
2012       0.624853  0.544956  0.537656
2013       0.612701  0.525907  0.519798
2014       0.598822  0.509188  0.504588
2015       0.595184  0.515971  0.526167
2016       0.591519  0.519521  0.553714
2017       0.588894  0.537534  0.569255
2018       0.593258  0.552074  0.576715
2019       0.602468  0.554623  0.580352
2020       0.608496   0.56659  0.586831
2021       0.607872  0.570448   0.59536
2022       0.609923   0.59698  0.626157
2023       0.609317  0.581932  0.576667
</pre></div>
</div>
</div>
</div>
<p><strong>그래프 한글 표시</strong></p>
<ul class="simple">
<li><p>그래프에서 한글이 깨지는 것을 막기 위해서는 아래 명령문을 실행해야 한다.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">font_manager</span><span class="p">,</span> <span class="n">rc</span>

<span class="n">font_path</span> <span class="o">=</span> <span class="s2">&quot;/Windows/Fonts/malgun.ttf&quot;</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">font_manager</span><span class="o">.</span><span class="n">FontProperties</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">font_path</span><span class="p">)</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.unicode_minus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># 축에 마이너스 부호 제대로 나오게 하기</span>
</pre></div>
</div>
</div>
</div>
<p>위 코드는 Windows에 해당하는 것이고, MacBook의 경우에는 위 명령문 세 번째 줄을 다음과 같이 바꿔야 한다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">font_path</span> <span class="o">=</span> <span class="s2">&quot;/System/Library/Fonts/AppleSDGothicNeo.ttc&quot;</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># 그래프 크기 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="c1"># 각 연령대의 gini 값 변화 추이 그리기</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_gini_age</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_gini_age</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">column</span><span class="p">)</span>

<span class="c1"># 그래프 제목 및 축 레이블 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;순자산 지니계수 변화 추이&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;연도&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;지니계수&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># 범례 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;연령대&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># 격자 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 그래프 표시</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c6a4c7507ad448b03337f175217f2693dd2503734edb5e3828ff45d0bff0cd44.png" src="../_images/c6a4c7507ad448b03337f175217f2693dd2503734edb5e3828ff45d0bff0cd44.png" />
</div>
</div>
<section id="id6">
<h3>수도권<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 연도 지정</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;2011&#39;</span><span class="p">,</span> <span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">,</span> 
         <span class="s1">&#39;2017&#39;</span><span class="p">,</span> <span class="s1">&#39;2018&#39;</span><span class="p">,</span> <span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="s1">&#39;2020&#39;</span><span class="p">,</span> <span class="s1">&#39;2021&#39;</span><span class="p">,</span> <span class="s1">&#39;2022&#39;</span><span class="p">,</span> <span class="s1">&#39;2023&#39;</span><span class="p">]</span>

<span class="c1"># 결과를 저장할 딕셔너리 초기화</span>
<span class="n">networth_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">age_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">metro_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">weight_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># 각 연도별로 파일 읽기 및 데이터 추출</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="c1"># 해당 연도에 대한 df 지정</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s1">&#39;df_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>

    <span class="c1"># &#39;수도권여부&#39; 필터링</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;수도권여부&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;G1&#39;</span><span class="p">]</span>
    
    <span class="c1"># 순자산, 가구주_만연령, 가중값 추출 및 저장</span>
    <span class="n">networth_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;networth_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;순자산&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span> <span class="c1"># 백만 원</span>
    <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가구주_만연령&#39;</span><span class="p">]</span>
    <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가중값&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 연령대 정의</span>
<span class="n">age_ranges</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;전체&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="s1">&#39;2030&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">),</span> <span class="s1">&#39;청년&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">34</span><span class="p">)}</span>

<span class="c1"># df_stats_age 초기화 (패널 데이터 형식)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">years</span><span class="p">,</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">keys</span><span class="p">()],</span> 
                                   <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;age_range&#39;</span><span class="p">])</span>
<span class="n">df_stats_age</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="s1">&#39;gini&#39;</span><span class="p">])</span>

<span class="c1"># 각 연도 및 연령대별로 계산</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">networth_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;networth_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">weight</span> <span class="o">/</span> <span class="n">weight</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">age_range</span><span class="p">,</span> <span class="p">(</span><span class="n">age_min</span><span class="p">,</span> <span class="n">age_max</span><span class="p">)</span> <span class="ow">in</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&gt;=</span> <span class="n">age_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&lt;=</span> <span class="n">age_max</span><span class="p">)</span>
        <span class="n">x1_filtered</span> <span class="o">=</span> <span class="n">x1</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        <span class="n">w_filtered</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        
        <span class="n">mean</span> <span class="o">=</span> <span class="n">weighted_mean</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">std</span> <span class="o">=</span> <span class="n">weighted_std</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">gini</span> <span class="o">=</span> <span class="n">weighted_gini</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;gini&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gini</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 순자산 통계량&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_stats_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 순자산 통계량
                      mean         std      gini
year age_range                                  
2010 전체         302.711086  623.746913  0.635216
     2030       169.498123  239.511169  0.565546
     청년          126.48754  165.543701  0.562404
2011 전체         307.084771  624.337234   0.63159
     2030       174.635315  249.621029  0.562346
     청년          131.30121  203.694577  0.569911
2012 전체         334.322052  611.643399   0.62332
     2030       185.674597  224.378269  0.542399
     청년         140.851637  167.888606  0.538609
2013 전체         321.896565  604.297946  0.621768
     2030       174.789673  222.811246  0.536793
     청년         127.804228  149.104467  0.535054
2014 전체         325.277248  587.625473  0.608757
     2030       179.708904  195.399058  0.515909
     청년         133.016036  150.954824  0.513993
2015 전체          331.10556  578.593131  0.610158
     2030       179.032455  193.735321  0.518392
     청년         138.708812  162.804498  0.527098
2016 전체         343.306479  594.091351   0.60423
     2030       189.256697  197.278042  0.516311
     청년         152.973674  175.515612  0.548064
2017 전체         367.373722  589.868679  0.599612
     2030       215.238503  273.411189  0.548012
     청년         156.943994  206.109228  0.582481
2018 전체          408.43652  632.021393  0.600812
     2030       230.424248  316.976504   0.57194
     청년         156.199467  221.959335  0.597093
2019 전체          426.94489  662.356585  0.613348
     2030       235.540532  309.297468  0.579182
     청년         151.713107  196.503069  0.591485
2020 전체         447.596783  706.084963   0.61644
     2030       249.787149  352.404543  0.584007
     청년         155.797239    202.6043   0.58034
2021 전체         519.921083  784.445043  0.610671
     2030       284.780392   388.53258  0.578773
     청년         172.137818  326.285019  0.602863
2022 전체         575.978111  843.811725  0.607483
     2030       306.264558  431.723664  0.601217
     청년         187.165181  386.616812  0.644482
2023 전체         541.537581   899.06528  0.611289
     2030       273.964143  351.886662  0.583279
     청년         162.029394  200.574087   0.57084
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gini 값만 추출하여 재구조화</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_stats_age</span><span class="p">[</span><span class="s1">&#39;gini&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;age_range&#39;</span><span class="p">)</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_gini_age</span><span class="p">[[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 순자산 지니계수&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_gini_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 순자산 지니계수
age_range        전체      2030        청년
year                                   
2010       0.635216  0.565546  0.562404
2011        0.63159  0.562346  0.569911
2012        0.62332  0.542399  0.538609
2013       0.621768  0.536793  0.535054
2014       0.608757  0.515909  0.513993
2015       0.610158  0.518392  0.527098
2016        0.60423  0.516311  0.548064
2017       0.599612  0.548012  0.582481
2018       0.600812   0.57194  0.597093
2019       0.613348  0.579182  0.591485
2020        0.61644  0.584007   0.58034
2021       0.610671  0.578773  0.602863
2022       0.607483  0.601217  0.644482
2023       0.611289  0.583279   0.57084
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># 그래프 크기 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="c1"># 각 연령대의 gini 값 변화 추이 그리기</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_gini_age</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_gini_age</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">column</span><span class="p">)</span>

<span class="c1"># 그래프 제목 및 축 레이블 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;순자산 지니계수 변화 추이&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;연도&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;지니계수&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># 범례 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;연령대&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># 격자 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 그래프 표시</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2919c1a99803d186b66757fe8cfcce42eadde1e62e8a05520c62e60cb697a538.png" src="../_images/2919c1a99803d186b66757fe8cfcce42eadde1e62e8a05520c62e60cb697a538.png" />
</div>
</div>
</section>
<section id="id7">
<h3>해석<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>2030세대, 특히 청년층의 순자산 지니계수가 2015년부터 가파르게 높아진 데는 주택가격(특히 수도권) 급등과 부의 대물림이 크게 늘어난 것이 크게 작용한 것으로 판단된다.</p>
<p><img alt="수도권 주택가격" src="https://raw.githubusercontent.com/pilsunchoi/images3/main/3-8.png" /></p>
<ul class="simple">
<li><p>데이터 출처: <a href="https://kremap.krihs.re.kr/grid/grid_global2">국토연구원 부동산시장정책연구센터</a></p></li>
</ul>
</section>
</section>
<section id="id8">
<h2>4 가구소득<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 연도 지정</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;2011&#39;</span><span class="p">,</span> <span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">,</span> 
         <span class="s1">&#39;2017&#39;</span><span class="p">,</span> <span class="s1">&#39;2018&#39;</span><span class="p">,</span> <span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="s1">&#39;2020&#39;</span><span class="p">,</span> <span class="s1">&#39;2021&#39;</span><span class="p">,</span> <span class="s1">&#39;2022&#39;</span><span class="p">,</span> <span class="s1">&#39;2023&#39;</span><span class="p">]</span>

<span class="c1"># 결과를 저장할 딕셔너리 초기화</span>
<span class="n">income_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">age_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">weight_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># 각 연도별로 파일 읽기 및 데이터 추출</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="c1"># 해당 연도에 대한 df 지정</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s1">&#39;df_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    
    <span class="c1"># 가구주_만연령, 가중값 추출 및 저장</span>
    <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가구주_만연령&#39;</span><span class="p">]</span>
    <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가중값&#39;</span><span class="p">]</span>
    
    <span class="c1"># 연도별로 다른 소득 컬럼 처리</span>
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;2011&#39;</span><span class="p">]:</span>
        <span class="n">income_column</span> <span class="o">=</span> <span class="s1">&#39;조사_경상소득&#39;</span>
    <span class="k">elif</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">]:</span>
        <span class="n">income_column</span> <span class="o">=</span> <span class="s1">&#39;경상소득(조사)&#39;</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># 2017년부터 2023년까지</span>
        <span class="n">income_column</span> <span class="o">=</span> <span class="s1">&#39;경상소득(보완)&#39;</span>
    
    <span class="c1"># 통계당국 처분가능소득 계산</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">income_column</span><span class="p">]</span>
    <span class="n">income_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;income_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">100</span> <span class="c1"># 백만 원</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 연령대 정의</span>
<span class="n">age_ranges</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;전체&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="s1">&#39;2030&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">),</span> <span class="s1">&#39;청년&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">34</span><span class="p">)}</span>

<span class="c1"># df_stats_age 초기화 (패널 데이터 형식)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">years</span><span class="p">,</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">keys</span><span class="p">()],</span> 
                                   <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;age_range&#39;</span><span class="p">])</span>
<span class="n">df_stats_age</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="s1">&#39;gini&#39;</span><span class="p">])</span>

<span class="c1"># 각 연도 및 연령대별로 계산</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">income_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;income_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">weight</span> <span class="o">/</span> <span class="n">weight</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">age_range</span><span class="p">,</span> <span class="p">(</span><span class="n">age_min</span><span class="p">,</span> <span class="n">age_max</span><span class="p">)</span> <span class="ow">in</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&gt;=</span> <span class="n">age_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&lt;=</span> <span class="n">age_max</span><span class="p">)</span>
        <span class="n">x1_filtered</span> <span class="o">=</span> <span class="n">x1</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        <span class="n">w_filtered</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        
        <span class="n">mean</span> <span class="o">=</span> <span class="n">weighted_mean</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">std</span> <span class="o">=</span> <span class="n">weighted_std</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">gini</span> <span class="o">=</span> <span class="n">weighted_gini</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;gini&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gini</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 소득 통계량&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_stats_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 소득 통계량
                     mean        std      gini
year age_range                                
2010 전체         37.729263  35.666476  0.432597
     2030       38.748152  31.054725  0.335447
     청년         33.823743  21.832978  0.317909
2011 전체          40.11769  45.266612  0.453477
     2030       40.258164   31.42681  0.334864
     청년            36.697  25.597783  0.329819
2012 전체         42.334004  45.183263   0.43791
     2030       43.149169  29.554049  0.326589
     청년         38.521289  23.552304  0.313823
2013 전체         44.785288  45.515289  0.429451
     2030       45.246769  30.844498  0.324586
     청년         39.745768  24.391265  0.312205
2014 전체          46.58477  44.492048  0.425873
     2030       47.861919  33.497429  0.317754
     청년          42.29219  31.345191  0.303075
2015 전체         47.695587  42.590169  0.422841
     2030       48.702121  30.331436  0.309765
     청년         43.780218  25.842378  0.305185
2016 전체         48.818554   43.37079  0.421318
     2030       49.202369  29.502706  0.308492
     청년         44.642892  26.539838    0.3112
2017 전체         54.781907  54.264717  0.436399
     2030       51.657465  38.100676  0.347723
     청년         44.827007  29.941723  0.354427
2018 전체         57.053089  55.860219  0.437351
     2030        54.43666  36.573052   0.33884
     청년         45.204069  29.550577   0.34056
2019 전체         58.275563  55.936299  0.434313
     2030       56.698264  37.845988  0.331942
     청년         47.545561  30.458446  0.327485
2020 전체         59.238988  59.992862  0.431978
     2030       59.345736  43.274996    0.3436
     청년         46.892239  30.149034  0.333909
2021 전체         61.247556  61.172116  0.423237
     2030       61.770919  48.555697  0.352425
     청년         48.915104   33.47371  0.342976
2022 전체          64.13669  58.946581  0.426013
     2030       63.984752  52.695201  0.368121
     청년         51.690021  42.591105  0.359731
2023 전체         67.624613  63.089049  0.420402
     2030        65.89594  50.712008  0.358372
     청년          52.76189  34.822484  0.343803
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gini 값만 추출하여 재구조화</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_stats_age</span><span class="p">[</span><span class="s1">&#39;gini&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;age_range&#39;</span><span class="p">)</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_gini_age</span><span class="p">[[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 소득 지니계수&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_gini_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 소득 지니계수
age_range        전체      2030        청년
year                                   
2010       0.432597  0.335447  0.317909
2011       0.453477  0.334864  0.329819
2012        0.43791  0.326589  0.313823
2013       0.429451  0.324586  0.312205
2014       0.425873  0.317754  0.303075
2015       0.422841  0.309765  0.305185
2016       0.421318  0.308492    0.3112
2017       0.436399  0.347723  0.354427
2018       0.437351   0.33884   0.34056
2019       0.434313  0.331942  0.327485
2020       0.431978    0.3436  0.333909
2021       0.423237  0.352425  0.342976
2022       0.426013  0.368121  0.359731
2023       0.420402  0.358372  0.343803
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># 그래프 크기 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="c1"># 각 연령대의 gini 값 변화 추이 그리기</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_gini_age</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_gini_age</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">column</span><span class="p">)</span>

<span class="c1"># 그래프 제목 및 축 레이블 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;가구소득 지니계수 변화 추이&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;연도&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;지니계수&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># 범례 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;연령대&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># 격자 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 그래프 표시</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c3c578bce329ac8c909cb308ccd09f31b29f44da47f1c25020f7c8ae40f8dc7f.png" src="../_images/c3c578bce329ac8c909cb308ccd09f31b29f44da47f1c25020f7c8ae40f8dc7f.png" />
</div>
</div>
</section>
<section id="id9">
<h2>5 처분가능소득<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 연도 지정</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;2011&#39;</span><span class="p">,</span> <span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">,</span> 
         <span class="s1">&#39;2017&#39;</span><span class="p">,</span> <span class="s1">&#39;2018&#39;</span><span class="p">,</span> <span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="s1">&#39;2020&#39;</span><span class="p">,</span> <span class="s1">&#39;2021&#39;</span><span class="p">,</span> <span class="s1">&#39;2022&#39;</span><span class="p">,</span> <span class="s1">&#39;2023&#39;</span><span class="p">]</span>

<span class="c1"># 결과를 저장할 딕셔너리 초기화</span>
<span class="n">income_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">age_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">weight_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># 각 연도별로 파일 읽기 및 데이터 추출</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="c1"># 해당 연도에 대한 df 지정</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s1">&#39;df_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    
    <span class="c1"># 가구주_만연령, 가중값 추출 및 저장</span>
    <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가구주_만연령&#39;</span><span class="p">]</span>
    <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;가중값&#39;</span><span class="p">]</span>
    
    <span class="c1"># 해당 연도의 &#39;처분가능소득&#39; 변수명 설정</span>
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;2011&#39;</span><span class="p">]:</span>
        <span class="n">income_column</span> <span class="o">=</span> <span class="s1">&#39;조사_처분가능소득&#39;</span>
    <span class="k">elif</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">]:</span>
        <span class="n">income_column</span> <span class="o">=</span> <span class="s1">&#39;처분가능소득(조사)[경상소득-비소비지출]&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">income_column</span> <span class="o">=</span> <span class="s1">&#39;처분가능소득(보완)[경상소득(보완)-비소비지출(보완)]&#39;</span>

    <span class="c1"># 해당 연도의 &#39;연간지급이자&#39; 변수명 설정</span>
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;2011&#39;</span><span class="p">]:</span>
        <span class="n">interest_payment</span> <span class="o">=</span> <span class="s1">&#39;조사_지출_비소비지출_연간지급이자&#39;</span>
    <span class="k">elif</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;2012&#39;</span><span class="p">]:</span>
        <span class="n">interest_payment</span> <span class="o">=</span> <span class="s1">&#39;지출_비소비지출_연간지급이자(조사)&#39;</span>
    <span class="k">elif</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;2013&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">]:</span>
        <span class="n">interest_payment</span> <span class="o">=</span> <span class="s1">&#39;조사_지출_비소비지출_연간지급이자&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">interest_payment</span> <span class="o">=</span> <span class="s1">&#39;지출_비소비지출_연간지급이자(조사)&#39;</span>
    
    <span class="c1"># 통계당국 처분가능소득 계산</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">income_column</span><span class="p">]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="n">interest_payment</span><span class="p">]</span>
    <span class="n">income_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;income_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">100</span> <span class="c1"># 백만 원</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 연령대 정의</span>
<span class="n">age_ranges</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;전체&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="s1">&#39;2030&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">),</span> <span class="s1">&#39;청년&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">34</span><span class="p">)}</span>

<span class="c1"># df_stats_age 초기화 (패널 데이터 형식)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">years</span><span class="p">,</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">keys</span><span class="p">()],</span> 
                                   <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;age_range&#39;</span><span class="p">])</span>
<span class="n">df_stats_age</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="s1">&#39;gini&#39;</span><span class="p">])</span>

<span class="c1"># 각 연도 및 연령대별로 계산</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">income_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;income_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">age_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;age_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_dict</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;weight_</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">weight</span> <span class="o">/</span> <span class="n">weight</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">age_range</span><span class="p">,</span> <span class="p">(</span><span class="n">age_min</span><span class="p">,</span> <span class="n">age_max</span><span class="p">)</span> <span class="ow">in</span> <span class="n">age_ranges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&gt;=</span> <span class="n">age_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x2</span> <span class="o">&lt;=</span> <span class="n">age_max</span><span class="p">)</span>
        <span class="n">x1_filtered</span> <span class="o">=</span> <span class="n">x1</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        <span class="n">w_filtered</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
        
        <span class="n">mean</span> <span class="o">=</span> <span class="n">weighted_mean</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">std</span> <span class="o">=</span> <span class="n">weighted_std</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        <span class="n">gini</span> <span class="o">=</span> <span class="n">weighted_gini</span><span class="p">(</span><span class="n">x1_filtered</span><span class="p">,</span> <span class="n">w_filtered</span><span class="p">)</span>
        
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span>
        <span class="n">df_stats_age</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">year</span><span class="p">,</span> <span class="n">age_range</span><span class="p">),</span> <span class="s1">&#39;gini&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gini</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 소득 통계량&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_stats_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 소득 통계량
                     mean        std      gini
year age_range                                
2010 전체         32.351046  31.178492  0.433686
     2030       32.968694  27.657438  0.341384
     청년         28.775827  18.696268  0.322295
2011 전체         34.858431  41.116273  0.453805
     2030       34.957992  28.417748  0.336809
     청년         32.010601  22.716567   0.33152
2012 전체         36.570673  38.753776   0.42765
     2030       37.135557  25.170997  0.318999
     청년         33.322171   19.93728   0.30693
2013 전체         38.427659    39.5943  0.422294
     2030       38.815289  26.470464  0.319648
     청년         34.350716  20.941127  0.309366
2014 전체          40.02168   38.35484  0.417371
     2030       41.054485  29.236157   0.31345
     청년          36.60937  28.548871  0.301676
2015 전체         40.986633  35.718795  0.413415
     2030       41.634252  24.853045  0.302998
     청년         37.719369  21.504912  0.298726
2016 전체         41.983472  36.744472  0.411177
     2030       42.171836  24.286241  0.300147
     청년         38.610192  22.479859  0.304615
2017 전체         46.904027  43.394543  0.425839
     2030       44.038063  29.394178  0.339751
     청년          38.77395   25.48497   0.35138
2018 전체         48.501717  43.881816  0.425811
     2030       46.357005   30.60579  0.336298
     청년         39.305376  25.378285  0.337152
2019 전체         49.230483  42.768963  0.419805
     2030       48.290059  30.091037  0.321993
     청년         41.082432  25.427022  0.322197
2020 전체         50.136732  47.118105  0.416496
     2030       50.287355  33.048243  0.328773
     청년         40.500074  25.104888  0.327935
2021 전체          51.95646  48.058334  0.406417
     2030       52.307391  37.742333  0.337595
     청년         42.535239   28.00784  0.332454
2022 전체         54.377382  45.831307  0.408877
     2030       54.255222  42.889034   0.35563
     청년         44.657717  37.829198  0.353511
2023 전체         57.288753  47.872197  0.402404
     2030       55.773823  40.456813  0.344645
     청년         45.529597  29.488613  0.336099
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gini 값만 추출하여 재구조화</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_stats_age</span><span class="p">[</span><span class="s1">&#39;gini&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;age_range&#39;</span><span class="p">)</span>
<span class="n">df_gini_age</span> <span class="o">=</span> <span class="n">df_gini_age</span><span class="p">[[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;연도/연령대별 소득 지니계수&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_gini_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>연도/연령대별 소득 지니계수
age_range        전체      2030        청년
year                                   
2010       0.433686  0.341384  0.322295
2011       0.453805  0.336809   0.33152
2012        0.42765  0.318999   0.30693
2013       0.422294  0.319648  0.309366
2014       0.417371   0.31345  0.301676
2015       0.413415  0.302998  0.298726
2016       0.411177  0.300147  0.304615
2017       0.425839  0.339751   0.35138
2018       0.425811  0.336298  0.337152
2019       0.419805  0.321993  0.322197
2020       0.416496  0.328773  0.327935
2021       0.406417  0.337595  0.332454
2022       0.408877   0.35563  0.353511
2023       0.402404  0.344645  0.336099
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># 그래프 크기 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="c1"># 각 연령대의 gini 값 변화 추이 그리기</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;전체&#39;</span><span class="p">,</span> <span class="s1">&#39;2030&#39;</span><span class="p">,</span> <span class="s1">&#39;청년&#39;</span><span class="p">]:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_gini_age</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_gini_age</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">column</span><span class="p">)</span>

<span class="c1"># 그래프 제목 및 축 레이블 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;처분가능소득 지니계수 변화 추이&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;연도&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;지니계수&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># 범례 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;연령대&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># 격자 추가</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># 그래프 표시</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9a3133f63b9433e82e7fce949f3d11404cd7a6ed520cfd0f4e84b527557c91ca.png" src="../_images/9a3133f63b9433e82e7fce949f3d11404cd7a6ed520cfd0f4e84b527557c91ca.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="031_%EA%B0%80%EA%B3%84%EA%B8%88%EC%9C%B5%EC%A1%B0%EC%82%AC_%EC%A7%80%EB%8B%88%EA%B3%84%EC%88%98_%EA%B3%84%EC%82%B0.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">3.1 가계금융조사 지니계수 계산</p>
      </div>
    </a>
    <a class="right-next"
       href="040_%EC%88%9C%EC%9E%90%EC%82%B0_%EB%B6%84%ED%8F%AC_%EC%B6%94%EC%A0%95.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">4 순자산 분포 추정</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1 필요 함수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">2 데이터</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">데이터 다운로딩</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">3 순자산</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">수도권</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">해석</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">4 가구소득</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">5 처분가능소득</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By 최필선 민인식
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>